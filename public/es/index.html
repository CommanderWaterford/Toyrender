<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Generador de Fotos IA Toyrender – Convierte Fotos en Figuras Coleccionables
    </title>

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="Transforma tus fotos en figuras coleccionables o imágenes fotorrealistas usando tecnología IA avanzada. Crea diseños de figuras a escala 1:7 en segundos. Fotos de Perfil IA perfectas para redes sociales y uso profesional."
    />
    <meta
      name="keywords"
      content="figura IA, figuras coleccionables, foto a figura, figura 3D, figuras personalizadas, arte IA, coleccionables digitales, figuras personalizadas, render de juguete, diseño de figura"
    />
    <meta name="author" content="Toyrender.com" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="es" />
    <meta name="revisit-after" content="7 days" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://toyrender.com/es/" />
    <!-- Language Alternates -->
    <link rel="alternate" hreflang="en" href="https://toyrender.com/" />
    <link rel="alternate" hreflang="es" href="https://toyrender.com/es/" />
    <link rel="alternate" hreflang="pt-BR" href="https://toyrender.com/pt/" />
    <link rel="alternate" hreflang="x-default" href="https://toyrender.com/" />

    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Toyrender.com - Generador de Fotos IA" />
    <meta
      property="og:description"
      content="Transforma tus fotos en figuras coleccionables usando tecnología IA avanzada. Crea diseños de figuras a escala 1:7 en segundos."
    />
    <meta property="og:url" content="https://toyrender.com/es/" />
    <meta property="og:site_name" content="Toyrender" />
    <meta property="og:image" content="https://toyrender.com/og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta
      property="og:image:alt"
      content="Servicio de transformación de figuras impulsado por IA"
    />
    <meta property="og:locale" content="es_ES" />
    <meta name="msvalidate.01" content="F4F1FB69A98B092B32B64CAE7FA3EE25" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Toyrender.com - Transforma Tus Fotos en Figuras Coleccionables"
    />
    <meta
      name="twitter:description"
      content="Transforma tus fotos en impresionantes figuras coleccionables usando tecnología IA avanzada. Crea diseños de figuras a escala 1:7 en segundos."
    />
    <meta name="twitter:image" content="https://toyrender.com/og-image.jpg" />
    <meta
      name="twitter:image:alt"
      content="Servicio de transformación de figuras impulsado por IA"
    />

    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#9333ea" />
    <meta name="msapplication-TileColor" content="#9333ea" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Toyrender" />

    <!-- Preload Critical Resources -->
    <link rel="preload" href="https://cdn.tailwindcss.com" as="script" />
    <link
      rel="preload"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      as="style"
    />

    <!-- DNS Prefetch para External Domains -->
    <link rel="dns-prefetch" href="https://analytics.ahrefs.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "Organization",
            "@id": "https://toyrender.com/#organization",
            "name": "Toyrender",
            "url": "https://toyrender.com",
            "logo": {
              "@type": "ImageObject",
              "url": "https://toyrender.com/logo.png",
              "width": 200,
              "height": 200
            },
            "description": "Servicio impulsado por IA que transforma fotos en figuras coleccionables",
            "foundingDate": "2024",
            "sameAs": [
              "https://twitter.com/toyrender",
              "https://facebook.com/toyrender"
            ]
          },
          {
            "@type": "WebApplication",
            "@id": "https://toyrender.com/#webapp",
            "name": "Toyrender Figurine Generator",
            "url": "https://toyrender.com",
            "description": "Transform your photos into collectible figurines using advanced AI technology",
            "applicationCategory": "MultimediaApplication",
            "operatingSystem": "Web Browser",
            "offers": [
              {
                "@type": "Offer",
                "name": "Prueba Gratuita",
                "price": "0",
                "priceCurrency": "USD",
                "description": "2 Free Figurine Generations con Low-Resolution Downloads"
              },
              {
                "@type": "Offer",
                "name": "Paquete Inicial",
                "price": "3.99",
                "priceCurrency": "USD",
                "description": "25 Créditos a create photos con fast processing y HD downloads"
              },
              {
                "@type": "Offer",
                "name": "Paquete Pro",
                "price": "4.99",
                "priceCurrency": "USD",
                "description": "50 Créditos a create photos con Priority Processing y Commercial Use License"
              }
            ],
            "featureList": [
              "Impulsado por IA Design",
              "Instant Generation",
              "Alta Resolución Downloads",
              "Multiple Styles",
              "Commercial Use License"
            ]
          },
          {
            "@type": "Product",
            "@id": "https://toyrender.com/#product",
            "name": "AI Figurine Generation Service",
            "description": "Transform photos into collectible figurines using advanced AI technology",
            "brand": {
              "@type": "Brand",
              "name": "Toyrender"
            },
            "category": "Digital Art Service",
            "offers": {
              "@type": "AggregateOffer",
              "lowPrice": "0",
              "highPrice": "4.99",
              "priceCurrency": "USD",
              "offerCount": "3"
            }
          },
          {
            "@type": "WebSite",
            "@id": "https://toyrender.com/#website",
            "url": "https://toyrender.com",
            "name": "Toyrender",
            "description": "Servicio de transformación de figuras impulsado por IA",
            "publisher": {
              "@id": "https://toyrender.com/#organization"
            },
            "potentialAction": {
              "@type": "SearchAction",
              "target": "https://toyrender.com/search?q={search_term_string}",
              "query-input": "required name=search_term_string"
            }
          }
        ]
      }
    </script>

    <!-- FAQ JSON-LD Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Do I own the generated figurine design?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. With the Paquete Pro you receive a commercial-use license para your outputs. Prueba Gratuita results are para personal, non-commercial use."
            }
          },
          {
            "@type": "Question",
            "name": "How long does generation take?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Usually under a minute; during busy periods it can take a bit longer. You'll see a live status while we create your figurine."
            }
          },
          {
            "@type": "Question",
            "name": "What image formats y sizes are supported?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "JPG y PNG up a 10 MB work best. For the best results, upload a clear, well-lit photo con your face visible."
            }
          },
          {
            "@type": "Question",
            "name": "What do I receive after generation?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "A high-resolution image preview of your figurine design con a download option. We don't ship physical figurines at this time."
            }
          },
          {
            "@type": "Question",
            "name": "Can I choose styles o themes?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes, of course. We'll render your photo in seven pre-defined styles con the pro Pack."
            }
          },
          {
            "@type": "Question",
            "name": "Are my photos private?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Absolutely. We never publicly share your uploads. Photos are used a create your result in line con our Política de Privacidad. Please avoid uploading sensitive images."
            }
          },
          {
            "@type": "Question",
            "name": "Can I use outputs commercially?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes con the Paquete Pro license. Please don't use outputs in a way that infringes third-party rights (e.g., logos, branded costumes) o impersonates others."
            }
          },
          {
            "@type": "Question",
            "name": "Do créditos expire? What if something goes wrong?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Credits are tied a your account. If you run into any issue con a generation, contact support y we'll help fix it."
            }
          },
          {
            "@type": "Question",
            "name": "Can I 3D-print the result?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "We currently provide high-resolution images (not STL files). You can use the image as reference para a 3D artist o printer."
            }
          },
          {
            "@type": "Question",
            "name": "Can I upload photos of children o multiple people?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Works best con a single person but groups are possible as well. For minors, only a parent o legal guardian may upload photos. "
            }
          },
          {
            "@type": "Question",
            "name": "Any content restrictions?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "We don't allow nudity, hateful, o illegal content. Right now Babies y little Children are also not allowed. Don't upload images o prompts that violate rights o our Terms."
            }
          },
          {
            "@type": "Question",
            "name": "What is the AI Figure Generator?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Our AI Figure Generator (powered by Gemini's Nano Banana model) turns a single photo into a stylized collectible-style figurine concept con realistic lighting, proportions, y presentation mockup. It adds packaging / display flair so you can visualize a premium figure instantly."
            }
          },
          {
            "@type": "Question",
            "name": "What are the technical requirements?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Just a modern browser (Chrome, Firefox, Safari, Edge) con JavaScript enabled. Upload a clear, well‑lit image at least 512x512px showing the subject fully. No plugins o installs needed."
            }
          },
          {
            "@type": "Question",
            "name": "How is my data y imagery protected?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Uploads are transmitted over encrypted HTTPS, processed securely, y routinely purged after generation. We don't resell o train custom models on your private photos without explicit consent."
            }
          },
          {
            "@type": "Question",
            "name": "Are there usage o plan limits?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Free tier includes a daily cap; Max / Pro plans lift most limits y add priority processing. All tiers must follow our content y copyright policies (no celebrity likeness misuse o unlicensed IP)."
            }
          },
          {
            "@type": "Question",
            "name": "Do you offer refunds on AI generations?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Completed generations consume significant GPU + API cost, so refunds aren't issued after a successful render. Try the free tier first a ensure quality meets expectations before upgrading."
            }
          }
        ]
      }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      @font-face {
        font-display: swap;
      }
    </style>
    <style>
      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(5deg);
        }
      }
      @keyframes pulse-glow {
        0%,
        100% {
          box-shadow: 0 0 20px rgba(147, 51, 234, 0.5);
        }
        50% {
          box-shadow: 0 0 40px rgba(147, 51, 234, 0.8);
        }
      }
      .float-animation {
        animation: float 6s ease-in-out infinite;
      }
      .pulse-glow {
        animation: pulse-glow 2s ease-in-out infinite;
      }
      .gradient-text {
        background: linear-gradient(135deg, #a5b4fc 0%, #c084fc 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(70px);
        opacity: 0.6;
        animation: float 20s ease-in-out infinite;
      }
      /* Testimonios horizontal scroll */
      @keyframes marquee {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-50%);
        }
      }
      .scroll-container {
        will-change: transform;
        animation: marquee 40s linear infinite;
      }
      .scroll-container:hover {
        animation-play-state: paused;
      }
      @media (prefers-reduced-motion: reduce) {
        .scroll-container {
          animation: none;
        }
      }

      /* Hide scrollbar but keep scrollability */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      .section-title {
        color: white;
        font-size: clamp(2rem, 5vw, 3.5rem);
        font-weight: 700;
        text-align: center;
        margin-bottom: 60px;
        line-height: 1.2;
      }

      .stars {
        display: flex;
        gap: 4px;
        margin-bottom: 20px;
      }

      .star {
        font-size: 20px;
        color: #ffd700;
      }

      .star.empty {
        color: #4a4a5e;
      }

      .customer-info {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: auto;
      }

      .customer-name {
        color: white;
        font-size: 18px;
        font-weight: 600;
      }

      .verified-badge {
        display: flex;
        align-items: center;
        gap: 6px;
        background: rgba(76, 175, 80, 0.15);
        padding: 5px 12px;
        border-radius: 20px;
        border: 1px solid rgba(76, 175, 80, 0.3);
      }

      .verified-icon {
        width: 14px;
        height: 14px;
        background: #4caf50;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 10px;
        font-weight: bold;
      }

      .verified-text {
        color: #4caf50;
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .google-auth-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        padding: 12px 16px;
        background: white;
        border: 1px solid #dadce0;
        border-radius: 8px;
        color: #3c4043;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s, box-shadow 0.2s;
      }

      .google-auth-btn:hover {
        background-color: #f8f9fa;
        box-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.3);
      }
      .style-option {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        justify-content: center;
        gap: 0.75rem;
        padding: 1rem;
        background: rgba(71, 85, 105, 0.3);
        border: 2px solid rgba(147, 51, 234, 0.3);
        border-radius: 0.75rem;
        color: #e9d5ff;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        min-height: 140px;
        overflow: visible;
        text-align: center;
      }

      .style-option:hover {
        background: rgba(147, 51, 234, 0.2);
        border-color: rgba(147, 51, 234, 0.6);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(147, 51, 234, 0.15);
      }

      .style-option.active {
        background: linear-gradient(
          135deg,
          rgba(147, 51, 234, 0.4),
          rgba(236, 72, 153, 0.4)
        );
        border-color: #9333ea;
        color: white;
        box-shadow: 0 4px 15px rgba(147, 51, 234, 0.3);
      }

      .style-option i {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
      }

      .style-option span {
        font-size: 0.875rem;
        text-align: center;
        display: block;
      }

      .style-option .style-thumb {
        width: 100%;
        aspect-ratio: 1 / 1;
        object-fit: cover;
        border-radius: 0.75rem;
        border: 2px solid rgba(147, 51, 234, 0.2);
        transition: all 0.4s ease;
        transform: scale(1);
        flex-shrink: 0;
        cursor: pointer;
      }

      .style-option:hover .style-thumb {
        border-color: rgba(147, 51, 234, 0.6);
        cursor: pointer;
      }

      .style-option.active .style-thumb {
        border-color: #f472b6;
        transform: scale(1.05);
      }

      .style-option.active:hover .style-thumb {
        border-color: #f472b6;
        cursor: pointer;
      }

      .style-option.placeholder {
        cursor: default;
        opacity: 0.65;
      }

      .style-option.placeholder:hover {
        background: rgba(71, 85, 105, 0.3);
        border-color: rgba(147, 51, 234, 0.3);
        transform: none;
      }

      .style-option.placeholder .style-thumb {
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(30, 41, 59, 0.6);
        color: #f1eafe;
        font-size: 0.9rem;
        font-weight: 600;
        border-style: dashed;
        border-color: rgba(147, 51, 234, 0.4);
        transform: scale(1);
      }

      .style-option.placeholder:hover .style-thumb {
        border-color: rgba(147, 51, 234, 0.4);
        transform: scale(1);
      }

      .placeholder-thumb {
        text-transform: uppercase;
        letter-spacing: 0.08em;
      }

      /* Zoom icon overlay */
      .style-zoom-overlay {
        position: absolute !important;
        top: 8px !important;
        right: 8px !important;
        background: rgba(0, 0, 0, 0.9) !important;
        border-radius: 50% !important;
        width: 32px !important;
        height: 32px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
        z-index: 100 !important;
        color: white !important;
        border: 2px solid rgba(255, 255, 255, 0.8) !important;
        opacity: 1 !important;
        visibility: visible !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
      }

      .style-zoom-overlay:hover {
        background: rgba(147, 51, 234, 0.8);
        transform: scale(1.1);
        border-color: rgba(255, 255, 255, 0.8);
      }

      .style-zoom-overlay i {
        font-size: 14px !important;
        color: white !important;
      }

      .style-zoom-overlay.selected {
        background: rgba(34, 197, 94, 0.8);
      }

      .style-zoom-overlay.selected:hover {
        background: rgba(34, 197, 94, 0.9);
      }

      /* Style zoom popup modal */
      .style-zoom-popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .style-zoom-popup.active {
        opacity: 1;
        visibility: visible;
      }

      .style-zoom-popup-content {
        position: relative;
        max-width: 80vw;
        max-height: 80vh;
        animation: zoomIn 0.3s ease;
      }

      .style-zoom-popup img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 1rem;
      }

      .style-zoom-popup-close {
        position: absolute;
        top: -40px;
        right: 0;
        background: rgba(255, 255, 255, 0.2);
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: white;
        font-size: 20px;
        transition: background 0.3s ease;
      }

      .style-zoom-popup-close:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      .style-zoom-popup-select {
        position: absolute;
        bottom: -60px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #9333ea, #ec4899);
        border: none;
        border-radius: 2rem;
        padding: 12px 24px;
        color: white;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        white-space: nowrap;
      }

      .style-zoom-popup-select:hover {
        transform: translateX(-50%) translateY(-2px);
        box-shadow: 0 4px 15px rgba(147, 51, 234, 0.4);
      }

      @keyframes zoomIn {
        desde {
          transform: scale(0.5);
          opacity: 0;
        }
        a {
          transform: scale(1);
          opacity: 1;
        }
      }

      @media (max-width: 768px) {
        .style-option {
          padding: 0.75rem;
          min-height: 84px;
        }

        .style-option i {
          font-size: 1.25rem;
        }

        .style-option span {
          font-size: 0.75rem;
        }

        .style-option .style-thumb {
          width: 100%;
        }

        /* Mobile header y text sizes */
        h1 {
          font-size: 2rem !important; /* Even smaller */
        }

        .text-2xl {
          font-size: 1.125rem !important; /* Smaller than default text-2xl */
        }

        .text-lg {
          font-size: 1rem !important; /* Smaller subheaders */
        }

        .text-base,
        p {
          font-size: 0.875rem !important; /* Smaller body text */
        }

        .text-purple-300 {
          font-size: 0.8rem !important; /* Even smaller para description text */
        }

        /* Mobile zoom overlay positioning - ensure visibility on mobile */
        .style-zoom-overlay {
          top: 6px !important;
          right: 6px !important;
          width: 28px !important;
          height: 28px !important;
          font-size: 12px !important;
        }

        /* Fix style option sizing para mobile a prevent image cropping */
        .style-option {
          min-height: 160px !important;
          gap: 0.25rem;
          padding: 0.25rem !important;
        }

        /* Use 2 columns on mobile para better image visibility */
        .grid.grid-cols-2.md\\:grid-cols-4 {
          grid-template-columns: repeat(2, 1fr) !important;
          gap: 0.75rem !important;
        }

        /* Adjust style thumb para mobile - ensure full image visibility */
        .style-option .style-thumb {
          width: 100%;
          height: 120px;
          object-fit: cover;
          border-radius: 0.75rem;
        }


        /* Smaller text on mobile */
        .style-option span {
          font-size: 0.65rem !important;
          line-height: 1.2;
        }

        /* Hero section example images - larger para better mobile visibility */
        .lg\\:hidden .grid.grid-cols-2 img {
          height: 200px !important;
          object-fit: contain;
        }

        /* Adjust grid spacing para hero examples */
        .lg\\:hidden .grid.grid-cols-2 {
          gap: 1rem !important;
          max-width: 26rem !important;
        }
      }

      .pack-results-viewer {
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
      }

      .pack-thumb {
        border: 2px solid transparent;
        border-radius: 0.5rem;
        overflow: hidden;
        transition: all 0.3s ease;
        opacity: 0.7;
      }

      .pack-thumb:hover {
        opacity: 1;
        transform: scale(1.1);
      }

      .pack-thumb.active {
        border-color: #9333ea;
        opacity: 1;
      }

      .pack-progress-dot {
        transition: all 0.3s ease;
      }

      /* Gallery Grid Styles */
      .gallery-section {
        padding: 3rem 1.5rem;
        max-width: 1400px;
        margin: 0 auto;
      }

      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1rem;
        margin-top: 2rem;
      }

      .gallery-item {
        position: relative;
        aspect-ratio: 1;
        overflow: hidden;
        border-radius: 0.75rem;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        background: rgba(30, 30, 45, 0.6);
        border: 2px solid rgba(147, 51, 234, 0.3);
      }

      .gallery-item:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 30px rgba(147, 51, 234, 0.4);
        border-color: rgba(147, 51, 234, 0.6);
      }

      .gallery-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .gallery-item-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
        padding: 1rem;
        transform: translateY(100%);
        transition: transform 0.3s ease;
      }

      .gallery-item:hover .gallery-item-overlay {
        transform: translateY(0);
      }

      .gallery-item-title {
        color: white;
        font-size: 0.875rem;
        font-weight: 600;
      }

      /* Lightbox Styles */
      .lightbox {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        z-index: 1000;
        animation: fadeIn 0.3s ease;
      }

      .lightbox.active {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      @keyframes fadeIn {
        desde {
          opacity: 0;
        }
        a {
          opacity: 1;
        }
      }

      .lightbox-content {
        position: relative;
        max-width: 90%;
        max-height: 90%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .lightbox-image {
        max-width: 100%;
        max-height: 85vh;
        object-fit: contain;
        border-radius: 0.5rem;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        animation: zoomIn 0.3s ease;
      }

      @keyframes zoomIn {
        desde {
          transform: scale(0.9);
          opacity: 0;
        }
        a {
          transform: scale(1);
          opacity: 1;
        }
      }

      .lightbox-caption {
        position: absolute;
        bottom: -40px;
        left: 0;
        right: 0;
        text-align: center;
        color: white;
        font-size: 1rem;
        padding: 0.5rem;
        background: rgba(0, 0, 0, 0.7);
        border-radius: 0.5rem;
      }

      .lightbox-close {
        position: absolute;
        top: 20px;
        right: 40px;
        font-size: 2.5rem;
        color: white;
        cursor: pointer;
        background: rgba(0, 0, 0, 0.5);
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        z-index: 1001;
      }

      .lightbox-close:hover {
        background: rgba(147, 51, 234, 0.8);
        transform: rotate(90deg);
      }

      .lightbox-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 3rem;
        color: white;
        cursor: pointer;
        background: rgba(0, 0, 0, 0.5);
        border: none;
        padding: 1rem;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
        z-index: 1001;
      }

      .lightbox-nav:hover {
        background: rgba(147, 51, 234, 0.8);
      }

      .lightbox-prev {
        left: 20px;
      }

      .lightbox-next {
        right: 20px;
      }

      .lightbox-counter {
        position: absolute;
        top: 20px;
        left: 20px;
        color: white;
        background: rgba(0, 0, 0, 0.7);
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-size: 0.875rem;
      }

      /* Thumbnail strip at bottom of lightbox */
      .lightbox-thumbnails {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 0.5rem;
        padding: 0.5rem;
        background: rgba(0, 0, 0, 0.7);
        border-radius: 0.5rem;
        max-width: 80%;
        overflow-x: auto;
      }

      .lightbox-thumbnail {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 0.25rem;
        cursor: pointer;
        opacity: 0.6;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .lightbox-thumbnail:hover {
        opacity: 1;
        transform: scale(1.1);
      }

      .lightbox-thumbnail.active {
        opacity: 1;
        border-color: #9333ea;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .gallery-grid {
          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
          gap: 0.75rem;
        }

        .lightbox-nav {
          font-size: 2rem;
          padding: 0.5rem;
        }

        .lightbox-close {
          top: 10px;
          right: 10px;
          width: 40px;
          height: 40px;
          font-size: 1.5rem;
        }

        .lightbox-thumbnails {
          bottom: 10px;
          max-width: 95%;
        }

        .lightbox-thumbnail {
          width: 40px;
          height: 40px;
        }
      }

      /* Loading spinner para images */
      .gallery-item.loading::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 30px;
        height: 30px;
        border: 3px solid rgba(147, 51, 234, 0.3);
        border-top-color: #9333ea;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        a {
          transform: translate(-50%, -50%) rotate(360deg);
        }
      }

      /* Mobile styles para créditos button */
      @media (max-width: 768px) {
        #creditsBtn {
          padding: 0.375rem 0.75rem !important;
          font-size: 0.875rem !important;
        }
        #creditsBtn i {
          font-size: 0.875rem !important;
          margin-right: 0.375rem !important;
        }
        #creditsLabel {
          display: none !important;
        }
      }

    </style>
    <script src="/config.js"></script>
  </head>
  <body
    class="bg-gradient-to-br from-purple-900 via-slate-900 to-indigo-900 min-h-screen text-white overflow-x-hidden"
  >
    <!-- Animated Background Blobs -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
      <div class="blob w-96 h-96 bg-purple-600 -top-48 -left-48"></div>
      <div
        class="blob w-96 h-96 bg-indigo-600 top-1/2 -right-48"
        style="animation-delay: 5s"
      ></div>
      <div
        class="blob w-96 h-96 bg-pink-600 -bottom-48 left-1/3"
        style="animation-delay: 10s"
      ></div>
    </div>

    <!-- Navigation -->
    <nav
      class="relative z-10 px-6 py-4 lg:px-12"
      role="navigation"
      aria-label="Main navigation"
    >
      <div class="max-w-7xl mx-auto flex justify-between items-center">
        <!-- Left: Brand -->
        <div class="flex items-center space-x-2">
          <i
            class="fas fa-cube text-3xl text-purple-400"
            aria-hidden="true"
          ></i>
          <span class="text-2xl font-bold gradient-text">Toyrender</span>
        </div>

        <!-- Right: Créditos + Mini Nav + Auth -->
        <div class="flex items-center gap-1 sm:gap-3 ml-2 sm:ml-4">
          <!-- Créditos -->
          <button
            id="creditsBtn"
            class="px-2 sm:px-4 py-1 sm:py-2 bg-purple-600/30 backdrop-blur-sm rounded-lg border border-purple-500/50 hover:bg-purple-600/50 transition-all text-xs sm:text-base"
            aria-label="View available créditos"
          >
            <i class="fas fa-coins mr-1" aria-hidden="true"></i>
            <span id="creditsCount">0</span>
            <span id="creditsLabel" class="hidden sm:inline">Créditos</span>
          </button>

          <!-- Tiny Nav (shows desde sm y up) -->
          <nav
            class="hidden lg:flex items-center gap-2 text-sm text-purple-200/90"
            aria-label="Quick links"
          >
            <a
              href="/gallery"
              class="px-3 py-1 rounded-md hover:text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-purple-500"
              >Galería de Figuras</a
            >
            <a
              href="/dating-photos-gallery"
              class="px-3 py-1 rounded-md hover:text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-purple-500"
              >Galería de Fotos de Citas</a
            >
            <a
              href="/business-photos-gallery"
              class="px-3 py-1 rounded-md hover:text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-purple-500"
              >Galería de Fotos de Negocios</a
            >
            <a
              href="/dating-photos"
              class="px-4 py-2 bg-gradient-to-r from-pink-600 to-red-600 rounded-lg hover:from-pink-700 hover:to-red-700 transition-all transform hover:scale-105 flex items-center"
            >
              <i class="fas fa-heart mr-2"></i>
              <span>Fotos de Citas</span>
            </a>
            <a
              href="/blog"
              class="px-3 py-1 rounded-md hover:text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-purple-500"
              >Blog</a
            >
            <a
              href="/faq"
              class="px-3 py-1 rounded-md hover:text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-purple-500"
              >Preguntas Frecuentes</a
            >
            <a
              href="#pricing-title"
              class="px-3 py-1 rounded-md hover:text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-purple-500"
              >Precios</a
            >
          </nav>

          <a
            href="/es/index.html"
            class="flex items-center gap-1 sm:gap-2 px-1 sm:px-3 py-1 sm:py-2 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-all"
            aria-label="Switch a Spanish version"
          >
            <span
              aria-hidden="true"
              class="w-5 h-3 rounded-sm border border-white/20"
              style="
                background: linear-gradient(
                  a bottom,
                  #aa151b 0%,
                  #aa151b 33%,
                  #f1bf00 33%,
                  #f1bf00 66%,
                  #aa151b 66%,
                  #aa151b 100%
                );
              "
            ></span>
            <span class="hidden sm:inline text-xs sm:text-sm font-semibold">ES</span>
          </a>

          <a
            href="/pt/index.html"
            class="flex items-center gap-1 sm:gap-2 px-1 sm:px-3 py-1 sm:py-2 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-all"
            aria-label="Switch a Portuguese version"
          >
            <span
              aria-hidden="true"
              class="w-5 h-3 rounded-sm border border-white/20"
              style="
                background: linear-gradient(
                  a bottom,
                  #009639 0%,
                  #009639 50%,
                  #fedf00 50%,
                  #fedf00 100%
                );
              "
            ></span>
            <span class="hidden sm:inline text-xs sm:text-sm font-semibold">PT</span>
          </a>

          <!-- Auth -->
          <button
            id="signInBtn"
            class="px-2 sm:px-4 py-1 sm:py-2 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105 text-xs sm:text-base"
            aria-label="Sign in a your account"
          >
            <i class="fas fa-user-circle sm:mr-2" aria-hidden="true"></i>
            <span id="authBtnText" class="hidden sm:inline">Iniciar Sesión</span>
          </button>

          <button
            id="logoutBtn"
            class="hidden px-2 sm:px-4 py-1 sm:py-2 bg-slate-700 rounded-lg hover:bg-slate-600 transition-all text-xs sm:text-base"
            aria-label="Sign out"
          >
            <i class="fas fa-right-from-bracket sm:mr-2"></i><span class="hidden sm:inline">Cerrar Sesión</span>
          </button>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main
      class="relative z-10 max-w-7xl mx-auto px-6 lg:px-12 py-12"
      role="main"
    >
      <!-- Hero Section -->
      <section id="heroSection" class="text-center mb-12 sm:mb-16" aria-labelledby="hero-title">
        <h1 id="hero-title" class="text-4xl sm:text-5xl lg:text-7xl font-bold mb-4 sm:mb-6">
          <span>Convierte tus selfies casuales en impresionantes </span>
          <span class="gradient-text">fotos de citas, fotos profesionales o figuras coleccionables</span>
          <span> en segundos.</span>
        </h1>

        <p class="text-lg sm:text-xl text-purple-200 mb-6 sm:mb-8 max-w-3xl mx-auto">
          Impulsado por los últimos Modelos de Imágenes IA, convertimos tus fotos en
          impresionantes diseños de figuras a escala 1:7 o increíbles Fotos de Perfil IA en
          segundos. ¡Perfecto para coleccionistas, regalos o simplemente por diversión!
        </p>

        <!-- PRIMARY CTA BUTTON - Above the fold con floating images -->
        <div class="relative mb-8">
          <!-- Floating Images Container -->
          <div class="hidden lg:block">
            <!-- Left Side - Original Photos -->
            <div
              class="absolute -left-60 top-1/2 transform -translate-y-1/2 space-y-6"
            >
              <div class="relative group animate-float-slow">
                <img
                  src="\images\businessphotos\Jonas.jpg"
                  alt="Original photo - Professional headshot"
                  class="w-48 h-48 object-cover rounded-xl shadow-2xl hover:shadow-purple-500/20 transition-all duration-500 transform hover:scale-110 hover:rotate-3"
                  width="192"
                  height="192"
                  fetchpriority="high"
                  loading="eager"
                />
                <div
                  class="absolute -bottom-2 -right-2 bg-white text-gray-800 text-xs px-2 py-1 rounded-full shadow-lg font-medium"
                >
                  Original
                </div>
              </div>

              <div class="relative group animate-float-delayed ml-8">
                <img
                  src="/images/Elyra.jpg"
                  alt="Original photo - Casual portrait"
                  class="w-48 h-48 object-cover rounded-xl shadow-2xl hover:shadow-purple-500/20 transition-all duration-500 transform hover:scale-110 hover:-rotate-2"
                  width="192"
                  height="192"
                  fetchpriority="high"
                  loading="eager"
                />
                <div
                  class="absolute -bottom-2 -right-2 bg-white text-gray-800 text-xs px-2 py-1 rounded-full shadow-lg font-medium"
                >
                  Original
                </div>
              </div>

              <div class="relative group animate-float-slow">
                <img
                  src="/images/datingoriginalexample.webp"
                  alt="Original photo - Dating profile"
                  class="w-48 h-48 object-cover rounded-xl shadow-2xl hover:shadow-purple-500/20 transition-all duration-500 transform hover:scale-110 hover:rotate-3"
                  width="192"
                  height="192"
                  fetchpriority="high"
                  loading="eager"
                />
                <div
                  class="absolute -bottom-2 -right-2 bg-white text-gray-800 text-xs px-2 py-1 rounded-full shadow-lg font-medium"
                >
                  Original
                </div>
              </div>
            </div>

            <!-- Right Side - Generado por IA Results -->
            <div
              class="absolute -right-60 top-1/2 transform -translate-y-1/2 space-y-6"
            >
              <div class="relative group animate-float-reverse">
                <img
                  src="\images\businessphotos\Jonas-business-09.jpg"
                  alt="AI generated Business Shot"
                  class="w-48 h-48 object-cover rounded-xl shadow-2xl hover:shadow-purple-500/30 transition-all duration-500 transform hover:scale-110 hover:-rotate-3 border-2 border-purple-400/40"
                  width="192"
                  height="192"
                  fetchpriority="high"
                  loading="eager"
                />
                <div
                  class="absolute -top-2 -right-2 bg-purple-600 text-white text-xs px-2 py-1 rounded-full shadow-lg"
                >
                  ✨ AI Business Shot
                </div>
              </div>

              <div class="relative group animate-float-delayed-reverse mr-8">
                <img
                  src="/images/Example-10.webp"
                  alt="AI generated professional headshot"
                  class="w-48 h-48 object-cover rounded-xl shadow-2xl hover:shadow-pink-500/30 transition-all duration-500 transform hover:scale-110 hover:rotate-2 border-2 border-pink-400/40"
                  width="192"
                  height="192"
                  fetchpriority="high"
                  loading="eager"
                />
                <div
                  class="absolute -top-2 -right-2 bg-pink-600 text-white text-xs px-2 py-1 rounded-full shadow-lg"
                >
                  ✨ AI Figurine
                </div>
              </div>

              <div class="relative group animate-float-reverse">
                <img
                  src="/images/datingresultexample.webp"
                  alt="AI generated dating photo"
                  class="w-48 h-48 object-cover rounded-xl shadow-2xl hover:shadow-pink-500/30 transition-all duration-500 transform hover:scale-110 hover:-rotate-3 border-2 border-pink-400/40"
                  width="192"
                  height="192"
                  fetchpriority="high"
                  loading="eager"
                />
                <div
                  class="absolute -top-2 -right-2 bg-pink-600 text-white text-xs px-2 py-1 rounded-full shadow-lg"
                >
                  ✨ AI Foto de Citas
                </div>
              </div>
            </div>
          </div>

          <!-- CTA Buttons Container -->
          <div id="ctaButtonContainer" class="relative z-10 inline-flex flex-col sm:flex-row gap-3 sm:gap-4 items-stretch w-full sm:w-auto max-w-full sm:max-w-none px-4 sm:px-0">
            <button
              id="heroCTABtn"
              class="w-full sm:w-auto px-4 sm:px-12 py-3 sm:py-6 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl text-base sm:text-2xl font-bold hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105 shadow-2xl pulse-glow inline-flex items-center justify-center"
              aria-label="Start creating your AI figurine now"
            >
              <i class="fas fa-magic mr-1 sm:mr-2 text-lg sm:text-3xl" aria-hidden="true"></i>
              <span>Create Your AI Photo Now</span>
              <i
                class="fas fa-arrow-down ml-1 sm:ml-2 text-base sm:text-2xl animate-bounce"
                aria-hidden="true"
              ></i>
            </button>

            <a
              href="#testimonials"
              class="w-full sm:w-auto px-4 sm:px-10 py-3 sm:py-6 bg-white/10 backdrop-blur-sm border-2 border-white/30 rounded-2xl text-base sm:text-2xl font-bold hover:bg-white/20 hover:border-white/50 transition-all transform hover:scale-105 shadow-xl inline-flex items-center justify-center"
              aria-label="See example photos"
            >
              <i class="fas fa-images mr-1 sm:mr-2 text-lg sm:text-3xl" aria-hidden="true"></i>
              <span>Ver Ejemplos</span>
              <i class="fas fa-chevron-right ml-1 sm:ml-2 text-sm sm:text-xl" aria-hidden="true"></i>
            </a>
          </div>

          <!-- Trust Badges -->
          <div class="mt-8 flex flex-wrap justify-center gap-4 sm:gap-6 text-sm sm:text-base">
            <div class="flex items-center gap-2 text-purple-200">
              <i class="fas fa-shield-alt text-green-400 text-xl" aria-hidden="true"></i>
              <span class="font-medium">Safe Uploads</span>
            </div>
            <div class="flex items-center gap-2 text-purple-200">
              <i class="fas fa-bolt text-yellow-400 text-xl" aria-hidden="true"></i>
              <span class="font-medium">Resultados Instantáneos</span>
            </div>
            <div class="flex items-center gap-2 text-purple-200">
              <i class="fas fa-lock text-blue-400 text-xl" aria-hidden="true"></i>
              <span class="font-medium">Secure Payments</span>
            </div>
          </div>

          <!-- Mobile Version - Images below CTA -->
          <div class="lg:hidden mt-8">
            <div class="grid grid-cols-2 gap-4 max-w-md mx-auto">
              <div class="space-y-3">
                <div class="relative group">
                  <img
                    src="\images\businessphotos\Jonas.jpg"
                    alt="Original photo"
                    class="w-full h-48 object-contain rounded-lg shadow-lg"
                    width="192"
                    height="192"
                    fetchpriority="high"
                    loading="eager"
                  />
                  <div
                    class="absolute -bottom-1 -right-1 bg-white text-gray-800 text-xs px-1 py-0.5 rounded-full text-[10px]"
                  >
                    Original
                  </div>
                </div>
                <div class="relative group">
                  <img
                    src="/images/Elyra.jpg"
                    alt="Original photo"
                    class="w-full h-48 object-contain rounded-lg shadow-lg"
                    width="192"
                    height="192"
                    fetchpriority="high"
                    loading="eager"
                  />
                  <div
                    class="absolute -bottom-1 -right-1 bg-white text-gray-800 text-xs px-1 py-0.5 rounded-full text-[10px]"
                  >
                    Original
                  </div>
                </div>
              </div>

              <div class="space-y-3">
                <div class="relative group">
                  <img
                    src="\images\businessphotos\Jonas-business-09.jpg"
                    alt="AI Business Shot"
                    class="w-full h-48 object-contain rounded-lg shadow-lg border border-purple-400/50"
                    width="192"
                    height="192"
                    fetchpriority="high"
                    loading="eager"
                  />
                  <div
                    class="absolute -top-1 -right-1 bg-purple-600 text-white text-xs px-1 py-0.5 rounded-full text-[10px]"
                  >
                    ✨ AI
                  </div>
                </div>
                <div class="relative group">
                  <img src="/images/Example-10.webp" alt="AI Figurine"
                  class="w-full h-48 object-contain rounded-lg shadow-lg border
                  border-pink-400/50" width="192" height="192" fetchpriority="high" loading="eager" />
                  <div
                    class="absolute -top-1 -right-1 bg-pink-600 text-white text-xs px-1 py-0.5 rounded-full text-[10px]"
                  >
                    ✨ AI
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Floating Animation Styles -->
        <style>
          @keyframes float-slow {
            0%,
            100% {
              transform: translateY(0px) rotate(0deg);
            }
            50% {
              transform: translateY(-10px) rotate(1deg);
            }
          }

          @keyframes float-delayed {
            0%,
            100% {
              transform: translateY(0px) rotate(0deg);
            }
            50% {
              transform: translateY(-8px) rotate(-1deg);
            }
          }

          @keyframes float-reverse {
            0%,
            100% {
              transform: translateY(0px) rotate(0deg);
            }
            50% {
              transform: translateY(-12px) rotate(-1deg);
            }
          }

          @keyframes float-delayed-reverse {
            0%,
            100% {
              transform: translateY(0px) rotate(0deg);
            }
            50% {
              transform: translateY(-6px) rotate(1deg);
            }
          }

          .animate-float-slow {
            animation: float-slow 6s ease-in-out infinite;
          }

          .animate-float-delayed {
            animation: float-delayed 7s ease-in-out infinite 1s;
          }

          .animate-float-reverse {
            animation: float-reverse 5s ease-in-out infinite;
          }

          .animate-float-delayed-reverse {
            animation: float-delayed-reverse 8s ease-in-out infinite 2s;
          }

          /* Ensure images don't interfere con smaller screens */
          @media (max-width: 1400px) {
            .absolute.-left-80 {
              left: -18rem;
            }
            .absolute.-right-80 {
              right: -18rem;
            }
          }

          @media (max-width: 1200px) {
            .absolute.-left-80 {
              left: -12rem;
            }
            .absolute.-right-80 {
              right: -12rem;
            }
          }
        </style>

        <!-- Secondary options para different use cases -->
        <div class="flex flex-wrap justify-center gap-2 sm:gap-4 mb-8 px-4">
          <button
            id="figurineCTABtn"
            class="px-3 sm:px-6 py-2 sm:py-3 bg-purple-800/50 backdrop-blur-sm rounded-full border-2 border-purple-500/50 hover:bg-purple-700/50 hover:border-purple-400 transition-all transform hover:scale-105 text-sm sm:text-base"
          >
            <i class="fas fa-cube mr-1 sm:mr-2 text-purple-400" aria-hidden="true"></i>
            <span>Make Figurine</span>
          </button>
          <button
            id="datingCTABtn"
            class="px-3 sm:px-6 py-2 sm:py-3 bg-pink-800/50 backdrop-blur-sm rounded-full border-2 border-pink-500/50 hover:bg-pink-700/50 hover:border-pink-400 transition-all transform hover:scale-105 text-sm sm:text-base"
          >
            <i class="fas fa-heart mr-1 sm:mr-2 text-pink-400" aria-hidden="true"></i>
            <span>Foto de Citass</span>
          </button>
          <button
            id="businessCTABtn"
            class="px-3 sm:px-6 py-2 sm:py-3 bg-blue-800/50 backdrop-blur-sm rounded-full border-2 border-blue-500/50 hover:bg-blue-700/50 hover:border-blue-400 transition-all transform hover:scale-105 text-sm sm:text-base"
          >
            <i
              class="fas fa-briefcase mr-1 sm:mr-2 text-blue-400"
              aria-hidden="true"
            ></i>
            <span>Foto de Negocioss</span>
          </button>
        </div>

        <div
          class="max-w-5xl mx-auto grid gap-4 sm:gap-6 md:grid-cols-3 text-left mb-10"
          aria-label="Getting started steps"
        >
          <div
            class="relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-lg shadow-xl"
          >
            <div
              class="w-12 h-12 flex items-center justify-center rounded-full bg-purple-600/80 text-white text-xl font-bold mb-4"
            >
              1
            </div>
            <h3 class="text-lg font-semibold mb-2">Sube Tu Foto</h3>
            <p class="text-sm text-purple-200 leading-relaxed">
              Add a clear selfie o portrait. We'll help you pick the best shot
              so Toyrender can capture every detail.
            </p>
          </div>
          <div
            class="relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-lg shadow-xl"
          >
            <div
              class="w-12 h-12 flex items-center justify-center rounded-full bg-purple-600/80 text-white text-xl font-bold mb-4"
            >
              2
            </div>
            <h3 class="text-lg font-semibold mb-2">Select a Style</h3>
            <p class="text-sm text-purple-200 leading-relaxed">
              Choose desde collectible figurines, dating edits, o business
              headshots. Switch styles anytime before you generate.
            </p>
          </div>
          <div
            class="relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-lg shadow-xl"
          >
            <div
              class="w-12 h-12 flex items-center justify-center rounded-full bg-purple-600/80 text-white text-xl font-bold mb-4"
            >
              3
            </div>
            <h3 class="text-lg font-semibold mb-2">Generate Your Image</h3>
            <p class="text-sm text-purple-200 leading-relaxed">
              Tap generate y watch Toyrender build your AI preview en segundos.
              Download immediately y start sharing.
            </p>
          </div>
        </div>

        <p class="text-sm text-purple-300">
          <i class="fas fa-users mr-2 text-purple-400"></i>
          Join 10,000+ users who've created amazing AI photos
        </p>
      </section>

      <!-- Upload Section -->
      <section id="upload" class="max-w-4xl mx-auto" aria-labelledby="upload-title">
        <div
          class="bg-slate-800/50 backdrop-blur-xl rounded-3xl p-8 lg:p-12 border border-purple-500/30 pulse-glow"
        >
          <div
            id="uploadArea"
            class="border-3 border-dashed border-purple-500/50 rounded-2xl p-12 text-center hover:border-purple-400 transition-all cursor-pointer bg-purple-900/20 hover:bg-purple-900/30"
            role="button"
            tabindex="0"
            aria-label="Upload photo area - click o drag y drop a upload"
          >
            <input
              type="file"
              id="fileInput"
              accept="image/*"
              class="hidden"
              aria-label="Select image file"
            />
            <div class="float-animation inline-block mb-6">
              <i
                class="fas fa-camera text-6xl text-purple-400"
                aria-hidden="true"
              ></i>
            </div>
            <h3 id="upload-title" class="text-2xl font-bold mb-4">
              Sube Tu Foto
            </h3>
            <p class="text-purple-300 mb-6">
              Drag & drop your photo here o click a browse
            </p>
            <button
              id="choosePhotoBtn"
              type="button"
              class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl text-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105 shadow-xl"
              aria-label="Choose photo a upload"
            >
              <i class="fas fa-upload mr-2" aria-hidden="true"></i
              ><span>Elegir Foto</span>
            </button>
            <p class="text-sm text-purple-400 mt-4">
              Soportes JPG, PNG up a 10MB
            </p>
          </div>

          <!-- Preview Section (Hidden by default) -->
          <div id="previewSection" class="hidden">
            <div class="grid lg:grid-cols-2 gap-8">
              <div>
                <h4 class="text-lg font-semibold mb-3 text-purple-300">
                  Original Photo
                </h4>
                <div class="rounded-xl overflow-hidden bg-black/30">
                  <img
                    id="originalPreview"
                    src=""
                    alt="Original photo uploaded by user"
                    class="max-w-full max-h-full object-contain"
                  />
                </div>
              </div>
              <div>
                <h4 class="text-lg font-semibold mb-3 text-purple-300">
                  Generated Image
                </h4>
                <div
                  id="resultContainer"
                  class="rounded-xl overflow-hidden bg-black/30 h-64 flex items-center justify-center"
                >
                  <div id="loadingSpinner" class="hidden">
                    <i
                      class="fas fa-spinner fa-spin text-4xl text-purple-400"
                    ></i>
                    <p class="mt-4 text-purple-300">Creating your image...</p>
                  </div>
                  <img
                    id="resultPreview"
                    src=""
                    alt="AI-generated figurine design result"
                    class="w-full h-64 object-cover hidden"
                  />
                </div>
              </div>
            </div>
            <div class="mt-8 flex gap-4 justify-center">
              <button
                id="generateBtn"
                class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl text-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                <i class="fas fa-magic mr-2"></i><span>Generate Image(s)</span>
              </button>
              <button
                id="downloadBtn"
                class="hidden px-8 py-4 bg-green-600 rounded-xl text-lg font-semibold hover:bg-green-700 transition-all transform hover:scale-105"
              >
                <i class="fas fa-download mr-2"></i><span>Descargar</span>
              </button>
              <button
                id="resetBtn"
                class="px-8 py-4 bg-slate-700 rounded-xl text-lg font-semibold hover:bg-slate-600 transition-all"
              >
                <i class="fas fa-redo mr-2"></i><span>Try Another</span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Results Section -->
      <section id="resultsSection" class="hidden max-w-6xl mx-auto mt-8">
        <div class="bg-slate-800/50 backdrop-blur-xl rounded-3xl p-8 border border-purple-500/30">
          <h2 class="text-3xl font-bold mb-8 text-center gradient-text">Your Generated Image</h2>

          <div class="grid md:grid-cols-3 gap-6 mb-8">
            <!-- Original Photo -->
            <div class="text-center">
              <h3 class="text-lg font-semibold mb-4 text-purple-300">Original Photo</h3>
              <div class="relative rounded-xl overflow-hidden bg-black/30 aspect-square">
                <img
                  id="resultsOriginalPreview"
                  src=""
                  alt="Your original photo"
                  class="w-full h-full object-cover"
                />
              </div>
            </div>

            <!-- Blurred Preview -->
            <div class="text-center">
              <h3 class="text-lg font-semibold mb-4 text-purple-300">Preview</h3>
              <div class="relative rounded-xl overflow-hidden bg-black/30 aspect-square">
                <img
                  id="resultsBlurredPreview"
                  src=""
                  alt="Blurred preview of your generated image"
                  class="w-full h-full object-cover blur-[1px]"
                />
                <div class="absolute inset-0 flex items-center justify-center bg-black/50">
                  <div class="text-center p-4">
                    <i class="fas fa-eye-slash text-3xl text-white mb-2"></i>
                    <p class="text-white font-semibold">Preview Quality</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Full Quality con Package Upgrade -->
            <div class="text-center">
              <h3 class="text-lg font-semibold mb-4 text-green-400">Full Quality</h3>
              <div class="relative rounded-xl overflow-hidden bg-black/30 aspect-square">
                <img
                  id="resultsFullQualityPreview"
                  src=""
                  alt="Full quality preview"
                  class="w-full h-full object-cover"
                />
                <div class="absolute inset-0 flex items-center justify-center bg-gradient-to-t from-black/80 via-black/40 to-transparent">
                  <div class="text-center p-6">
                    <div class="bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-full mb-3">
                      <i class="fas fa-crown mr-2"></i>Standard Package
                    </div>
                    <p class="text-white font-semibold text-lg mb-2">Unlock Full Quality</p>
                    <p class="text-gray-300 text-sm">High-resolution, watermark-free</p>
                  </div>
                </div>
              </div>
              <!-- Testimonial -->
              <div class="mt-4 p-4 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-xl border border-yellow-500/30">
                <div class="text-center">
                  <div class="text-yellow-400 mb-2">⭐⭐⭐⭐⭐</div>
                  <p class="text-sm text-gray-300 italic mb-2">"Loved it! The HD version looked stunning — totally worth it."</p>
                  <p class="text-xs text-gray-400">– Anna, Berlin</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto">
            <button
              id="downloadPreviewBtn"
              class="px-6 py-3 bg-slate-600 hover:bg-slate-500 rounded-xl font-semibold transition-all text-center"
            >
              👉 Free sample – low-res, watermarked
            </button>

            <div class="text-center">
              <button
                id="upgradePackageBtn"
                class="w-full px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 rounded-xl font-semibold transition-all transform hover:scale-105 shadow-lg"
              >
                👉 Unlock Full Quality – $3.99
              </button>
              <div class="mt-2 flex items-center justify-center text-xs text-gray-400">
                <i class="fas fa-shield-alt mr-1"></i>
                <span>Pago seguro · Instant download</span>
              </div>
            </div>

            <button
              id="generateAnotherBtn"
              class="px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-xl font-semibold transition-all text-center"
            >
              <i class="fas fa-magic mr-2"></i>Upgrade a Generate More Styles
            </button>
          </div>
        </div>
      </section>

      <div id="styleSelectionSection" class="hidden max-w-4xl mx-auto mt-8">
        <div
          class="bg-slate-800/50 backdrop-blur-xl rounded-3xl p-8 border border-purple-500/30"
        >
          <h3 class="text-2xl font-bold mb-2 text-center">Choose Your Style</h3>
          <p class="text-purple-300 text-center mb-6">
            Select how you want your image a be generated
          </p>

          <!-- Style Categories -->
          <div class="space-y-6">
            <!-- Figurine Styles -->
            <div>
              <h4 class="text-lg font-semibold mb-3 text-purple-300">
                <i class="fas fa-cube mr-2"></i>Figurine Styles
              </h4>
              <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                <button class="style-option active" data-style="figurine1">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-01.webp"
                    alt="Lifestyle shoot figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-01.webp', 'figurine1', 'Lifestyle Shoot')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Lifestyle Shoot</span>
                </button>
                <button class="style-option" data-style="figurine2">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-02.webp"
                    alt="Desk studio figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-02.webp', 'figurine2', 'Desk Studio')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Desk Studio</span>
                </button>
                <button class="style-option" data-style="figurine3">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-03.webp"
                    alt="Livestream studio figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-03.webp', 'figurine3', 'Livestream Studio')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Livestream Studio</span>
                </button>
                <button class="style-option" data-style="figurine4">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-04.webp"
                    alt="Boutique window figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-04.webp', 'figurine4', 'Boutique Window')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Boutique Window</span>
                </button>
                <button class="style-option" data-style="figurine5">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-05.webp"
                    alt="Editorial spread figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-05.webp', 'figurine5', 'Editorial Spread')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Editorial Spread</span>
                </button>
                <button class="style-option" data-style="figurine6">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-06.webp"
                    alt="Display cabinet figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-06.webp', 'figurine6', 'Display Cabinet')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Display Cabinet</span>
                </button>
                <button class="style-option" data-style="figurine7">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-07.webp"
                    alt="Retro arcade figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-07.webp', 'figurine7', 'Retro Arcade')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Retro Arcade</span>
                </button>
                <button class="style-option" data-style="figurine8">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-08.webp"
                    alt="Color check figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-08.webp', 'figurine8', 'Color Check')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Color Check</span>
                </button>
                <button class="style-option" data-style="figurine9">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-09.webp"
                    alt="Auction preview figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-09.webp', 'figurine9', 'Auction Preview')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Auction Preview</span>
                </button>
                <button class="style-option" data-style="figurine10">
                  <img
                    src="/images/figurinestyles/FigurinesStyle-10.webp"
                    alt="Artist studio figurine"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/figurinestyles/FigurinesStyle-10.webp', 'figurine10', 'Artist Studio')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Artist Studio</span>
                </button>
                <div class="style-option placeholder">
                  <div class="style-thumb placeholder-thumb">Style 11</div>
                  <span>Coming Soon</span>
                </div>
                <div class="style-option placeholder">
                  <div class="style-thumb placeholder-thumb">Style 12</div>
                  <span>Coming Soon</span>
                </div>
              </div>
              <!-- Continue Button After Figurine Styles -->
              <div class="flex justify-center mt-6 mb-6">
                <button
                  id="continueToPreviewFigurine"
                  class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl text-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105"
                  onclick="document.getElementById('continueToPreview').click()"
                >
                  <i class="fas fa-arrow-right mr-2"></i>Continue a Preview
                </button>
              </div>
            </div>

            <!-- Foto de Citas Styles -->
            <div>
              <h4 class="text-lg font-semibold mb-3 text-purple-300">
                <i class="fas fa-heart mr-2"></i>Foto de Citas Styles
              </h4>
              <div class="grid grid-cols-3 gap-3">
                <button class="style-option" data-style="dating1">
                  <img
                    src="/images/dating-photos/DatingStyle1.jpg"
                    alt="Morning Glow"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/dating-photos/DatingStyle1.jpg', 'dating1', 'Morning Glow')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Morning Glow</span>
                </button>
                <button class="style-option" data-style="dating2">
                  <img
                    src="/images/dating-photos/DatingStyle2.jpg"
                    alt="Playful Charm"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/dating-photos/DatingStyle2.jpg', 'dating2', 'Playful Charm')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Playful Charm</span>
                </button>
                <button class="style-option" data-style="dating3">
                  <img
                    src="/images/dating-photos/DatingStyle3.jpg"
                    alt="Evening Elegance"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/dating-photos/DatingStyle3.jpg', 'dating3', 'Evening Elegance')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Evening Elegance</span>
                </button>
                <button class="style-option" data-style="dating4">
                  <img
                    src="/images/dating-photos/DatingStyle4.jpg"
                    alt="Carefree Summer"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/dating-photos/DatingStyle4.jpg', 'dating4', 'Carefree Summer')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Carefree Summer</span>
                </button>
                <button class="style-option" data-style="dating5">
                  <img
                    src="/images/dating-photos/DatingStyle5.jpg"
                    alt="Artistic Sensual"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/dating-photos/DatingStyle5.jpg', 'dating5', 'Artistic Sensual')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Artistic Sensual</span>
                </button>
                <button class="style-option" data-style="dating6">
                  <img
                    src="/images/dating-photos/DatingStyle6.jpg"
                    alt="Confident Intimate"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/dating-photos/DatingStyle6.jpg', 'dating6', 'Confident Intimate')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Confident Intimate</span>
                </button>
              </div>

              <div
                class="mt-4 p-4 bg-gradient-to-r from-pink-900/30 to-red-900/30 rounded-xl border border-pink-500/30"
              >
                <button
                  id="dating9PackBtn"
                  class="w-full style-option"
                  data-style="dating-pack"
                >
                  <div class="flex items-center justify-center gap-3">
                    <i class="fas fa-fire-flame-curved text-2xl"></i>
                    <div>
                      <span class="block text-base font-bold"
                        >Foto de Citas Pack</span
                      >
                      <span class="block text-xs text-purple-300 mt-1"
                        >Generate all 6 dating styles at once (uses 6
                        créditos)</span
                      >
                    </div>
                    <span
                      class="px-3 py-1 bg-pink-600/50 rounded-full text-sm font-bold"
                      >BEST VALUE</span
                    >
                  </div>
                </button>
              </div>
            </div>

            <!-- Business Headshot Styles -->
            <div>
              <h4 class="text-lg font-semibold mb-3 text-purple-300">
                <i class="fas fa-briefcase mr-2"></i>Business Headshot Styles
              </h4>
              <div class="grid grid-cols-3 gap-3">
                <button class="style-option" data-style="business1">
                  <img
                    src="/images/businessphotos/Jonas-business-03.jpg"
                    alt="Corporate pro business headshot preview"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/businessphotos/Jonas-business-03.jpg', 'business1', 'Corporate Pro')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Corporate Pro</span>
                </button>
                <button class="style-option" data-style="business2">
                  <img
                    src="/images/businessphotos/SabrinaBusiness-04.jpg"
                    alt="Executive business headshot preview"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/businessphotos/SabrinaBusiness-04.jpg', 'business2', 'Executive')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Executive</span>
                </button>
                <button class="style-option" data-style="business3">
                  <img
                    src="/images/businessphotos/Jonas-business-07.jpg"
                    alt="Approachable business headshot preview"
                    class="style-thumb"
                  />
                  <div
                    class="style-zoom-overlay"
                    onclick="openStyleZoomPopup(event, '/images/businessphotos/Jonas-business-07.jpg', 'business3', 'Approachable')"
                  >
                    <i class="fas fa-search-plus"></i>
                  </div>
                  <span>Approachable</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Continue Button -->
          <div class="flex justify-center mt-8">
            <button
              id="continueToPreview"
              class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl text-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105"
            >
              <i class="fas fa-arrow-right mr-2"></i>Continue
            </button>
          </div>
        </div>
      </div>

      <!-- Testimonios Examples-->
      <section id="testimonials" class="gallery-section">
        <h2 class="text-2xl font-semibold mb-4 px-6" style="color: white">
          See What Others Created
        </h2>

        <div class="gallery-grid" id="galleryGrid">
          <!-- Gallery items will be populated here -->
        </div>

        <!-- Gallery CTA Buttons -->
        <div class="w-full flex justify-center mt-6 pb-2">
          <div class="flex flex-col sm:flex-row gap-4">
            <a
              href="/figurines-gallery"
              class="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full font-semibold text-sm tracking-wide hover:from-purple-700 hover:to-pink-700 transition-colors shadow-lg"
            >
              More Figurine Examples →
            </a>
            <a
              href="/business-photos-gallery"
              class="px-6 py-3 bg-gradient-to-r from-sky-600 to-indigo-600 rounded-full font-semibold text-sm tracking-wide hover:from-sky-500 hover:to-indigo-500 transition-colors shadow-lg"
            >
              Foto de Negocios Gallery →
            </a>
            <a
              href="/dating-photos-gallery"
              class="px-6 py-3 bg-gradient-to-r from-pink-600 to-red-600 rounded-full font-semibold text-sm tracking-wide hover:from-pink-700 hover:to-red-700 transition-colors shadow-lg"
            >
              View Foto de Citas Gallery →
            </a>
          </div>
        </div>
      </section>

      <!-- Lightbox Modal -->
      <div id="lightbox" class="lightbox">
        <button class="lightbox-close" onclick="closeLightbox()">
          &times;
        </button>
        <button
          class="lightbox-nav lightbox-prev"
          onclick="navigateLightbox(-1)"
        >
          ‹
        </button>
        <button
          class="lightbox-nav lightbox-next"
          onclick="navigateLightbox(1)"
        >
          ›
        </button>

        <div class="lightbox-counter">
          <span id="currentIndex">1</span> / <span id="totalImages">8</span>
        </div>

        <div class="lightbox-content">
          <img id="lightboxImage" class="lightbox-image" src="" alt="" />
          <div id="lightboxCaption" class="lightbox-caption"></div>
        </div>

        <div class="lightbox-thumbnails" id="lightboxThumbnails">
          <!-- Thumbnails will be populated here -->
        </div>
      </div>

      <!-- Foto de Citass CTA Section -->
      <section class="mt-20 text-center max-w-4xl mx-auto">
        <div
          class="bg-gradient-to-br from-pink-900/50 to-red-900/50 backdrop-blur-xl rounded-3xl p-8 lg:p-12 border border-pink-500/30"
        >
          <div class="flex justify-center mb-6">
            <div class="p-4 bg-pink-600/20 rounded-full">
              <i class="fas fa-heart text-5xl text-pink-400"></i>
            </div>
          </div>
          <h2 class="text-3xl lg:text-4xl font-bold mb-4">
            <span class="gradient-text">Level Up Your Dating Game</span>
          </h2>
          <p class="text-xl text-purple-200 mb-8 max-w-2xl mx-auto">
            Transform your dating profile con AI-generated photos that get
            matches. Professional quality images optimized para Tinder, Bumble,
            y Hinge.
          </p>
          <div class="flex flex-wrap justify-center gap-4 mb-8">
            <div
              class="px-4 py-2 bg-pink-800/30 backdrop-blur-sm rounded-full border border-pink-500/50"
            >
              <i class="fas fa-fire mr-2 text-orange-400"></i>
              <span>Tinder Optimized</span>
            </div>
            <div
              class="px-4 py-2 bg-pink-800/30 backdrop-blur-sm rounded-full border border-pink-500/50"
            >
              <i class="fas fa-bee mr-2 text-yellow-400"></i>
              <span>Bumble Ready</span>
            </div>
            <div
              class="px-4 py-2 bg-pink-800/30 backdrop-blur-sm rounded-full border border-pink-500/50"
            >
              <i class="fas fa-link mr-2 text-blue-400"></i>
              <span>Hinge Perfect</span>
            </div>
          </div>
          <a
            href="/dating-photos.html"
            class="inline-flex items-center px-10 py-4 bg-gradient-to-r from-pink-600 to-red-600 rounded-xl text-lg font-semibold hover:from-pink-700 hover:to-red-700 transition-all transform hover:scale-105 shadow-xl"
          >
            <i class="fas fa-camera mr-2"></i>
            <span>Create Your Foto de Citass Now</span>
            <i class="fas fa-arrow-right ml-2"></i>
          </a>
          <p class="mt-6 text-sm text-purple-300">
            <i class="fas fa-check-circle mr-2 text-green-400"></i>
            Multiple styles • High-resolution • Instant generation
          </p>
        </div>
      </section>

      <!-- Pricing Section -->
      <section class="mt-20 text-center" aria-labelledby="pricing-title">
        <h2 id="pricing-title" class="text-3xl font-bold mb-12">
          Simple Pricing
        </h2>
        <div
          class="max-w-5xl mx-auto grid md:grid-cols-2 lg:grid-cols-3 gap-8"
          role="list"
          aria-label="Pricing plans"
        >
          <article
            class="bg-slate-800/50 backdrop-blur-xl rounded-2xl p-8 border border-purple-500/30 flex flex-col"
            role="listitem"
          >
            <h3 class="text-2xl font-bold mb-4">Prueba Gratuita</h3>
            <p class="text-4xl font-bold mb-4">$0</p>
            <ul
              class="space-y-3 mb-8 text-left flex-grow"
              role="list"
              aria-label="Prueba gratuita features"
            >
              <li role="listitem">
                <i
                  class="fas fa-check text-green-400 mr-2"
                  aria-hidden="true"
                ></i
                ><span>2 Free Generations</span>
              </li>
              <li role="listitem">
                <i
                  class="fas fa-check text-green-400 mr-2"
                  aria-hidden="true"
                ></i
                ><span>Low-Resolution Downloads</span>
              </li>
              <li role="listitem">
                <i
                  class="fas fa-check text-green-400 mr-2"
                  aria-hidden="true"
                ></i
                ><span>Watermarked Images</span>
              </li>
            </ul>
            <button
              id="freeTrialBtn"
              class="w-full py-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-all mt-auto"
              aria-label="Start con free trial"
            >
              Get Started
            </button>
          </article>
          <article
            class="bg-slate-800/50 backdrop-blur-xl rounded-2xl p-8 border border-purple-500/30 flex flex-col"
            role="listitem"
          >
            <h3 class="text-2xl font-bold mb-4">Paquete Inicial</h3>
            <p class="text-4xl font-bold mb-4">$3.99</p>
            <ul
              class="space-y-3 mb-8 text-left flex-grow"
              role="list"
              aria-label="Starter pack features"
            >
              <li role="listitem">
                <i
                  class="fas fa-check text-green-400 mr-2"
                  aria-hidden="true"
                ></i
                ><span>25 Créditos a create photos</span>
              </li>
              <li role="listitem">
                <i
                  class="fas fa-check text-green-400 mr-2"
                  aria-hidden="true"
                ></i
                ><span>Fast generation priority</span>
              </li>
            </ul>
            <button
              id="buyStarterPackBtn"
              class="w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 mt-auto"
              aria-label="Purchase starter pack créditos"
            >
              Buy Paquete Inicial
            </button>
          </article>
          <article
            class="bg-gradient-to-br from-purple-800/50 to-pink-800/50 backdrop-blur-xl rounded-2xl p-8 border border-purple-400/50 transform scale-105 flex flex-col"
            role="listitem"
          >
            <div
              class="bg-yellow-500 text-black text-sm font-bold px-3 py-1 rounded-full inline-block mb-4"
            >
              POPULAR
            </div>
            <h3 class="text-2xl font-bold mb-4">Paquete Pro</h3>
            <p class="text-4xl font-bold mb-4">$4.99</p>
            <ul
              class="space-y-3 mb-8 text-left flex-grow"
              role="list"
              aria-label="Pro pack features"
            >
              <li role="listitem">
                <i
                  class="fas fa-check text-green-400 mr-2"
                  aria-hidden="true"
                ></i
                ><span>50 Créditos a create photos</span>
              </li>
              <li role="listitem">
                <i
                  class="fas fa-check text-green-400 mr-2"
                  aria-hidden="true"
                ></i
                ><span>Priority Processing</span>
              </li>
              <li role="listitem">
                <i
                  class="fas fa-check text-green-400 mr-2"
                  aria-hidden="true"
                ></i
                ><span>Multiple Styles</span>
              </li>
              <li role="listitem">
                <i
                  class="fas fa-check text-green-400 mr-2"
                  aria-hidden="true"
                ></i
                ><span>Commercial Use License</span>
              </li>
            </ul>
            <button
              id="buyCreditsBtn"
              class="w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105 mt-auto"
              aria-label="Purchase pro pack créditos"
            >
              Buy Créditos
            </button>
          </article>
        </div>
      </section>
    </main>

    <!-- Payment Modal (Hidden by default) -->
    <div
      id="paymentModal"
      class="hidden fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-6"
    >
      <div
        class="bg-slate-800 rounded-2xl p-8 max-w-md w-full border border-purple-500/30"
      >
        <h3 class="text-2xl font-bold mb-6">Complete Your Purchase</h3>
        <div class="bg-purple-900/30 rounded-lg p-4 mb-6">
          <p class="text-sm text-purple-300 mb-2">You're purchasing:</p>
          <p class="text-xl font-bold">50 Photo Créditos - $4.99</p>
        </div>
        <form id="paymentForm">
          <div class="mb-4">
            <label class="block text-sm font-medium mb-2">Card Number</label>
            <input
              type="text"
              placeholder="1234 5678 9012 3456"
              class="w-full px-4 py-3 bg-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
            />
          </div>
          <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
              <label class="block text-sm font-medium mb-2">Expiry</label>
              <input
                type="text"
                placeholder="MM/YY"
                class="w-full px-4 py-3 bg-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">CVV</label>
              <input
                type="text"
                placeholder="123"
                class="w-full px-4 py-3 bg-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              />
            </div>
          </div>
          <div class="flex gap-4">
            <button
              type="submit"
              class="flex-1 py-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all"
            >
              Pay $4.99
            </button>
            <button
              type="button"
              id="cancelPayment"
              class="flex-1 py-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-all"
            >
              Cancel
            </button>
          </div>
        </form>
        <p class="text-xs text-purple-400 mt-4 text-center">
          <i class="fas fa-lock mr-1"></i
          ><span>Pago seguro powered by Stripe</span>
        </p>
      </div>
    </div>

    <!-- Auth Modal (Sign In / Register) -->
    <!-- Add this a your index.html in the auth modal section (replace the existing authModal div around line 2800) -->

    <!-- Auth Modal (Sign In / Register) -->
    <div
      id="authModal"
      class="hidden fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-6"
    >
      <div
        class="bg-slate-800 rounded-2xl p-8 max-w-md w-full border border-purple-500/30"
      >
        <h3 class="text-2xl font-bold mb-6" id="authTitle">Sign in</h3>

        <!-- Google Sign-in Button -->
        <button
          id="googleSignInBtn"
          type="button"
          class="google-auth-btn mb-4"
          onclick="window.location.href='/auth/google'"
        >
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            style="margin-right: 8px"
          >
            <path
              fill="#4285F4"
              d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.875 2.684-6.615z"
            />
            <path
              fill="#34A853"
              d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z"
            />
            <path
              fill="#FBBC05"
              d="M3.964 10.71c-.18-.54-.282-1.117-.282-1.71s.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9s.348 2.827.957 4.042l3.007-2.332z"
            />
            <path
              fill="#EA4335"
              d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z"
            />
          </svg>
          Sign in con Google
        </button>

        <!-- Divider -->
        <div class="relative my-6">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-slate-600"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-4 bg-slate-800 text-slate-400"
              >Or continue con email</span
            >
          </div>
        </div>

        <form id="authForm" class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-2">Correo Electrónico</label>
            <input
              id="authCorreo Electrónico"
              type="email"
              required
              class="w-full px-4 py-3 bg-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
            />
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">Contraseña</label>
            <input
              id="authContraseña"
              type="password"
              required
              minlength="6"
              class="w-full px-4 py-3 bg-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
            />
          </div>

          <div class="flex gap-3">
            <button
              id="authSubmit"
              type="submit"
              class="flex-1 py-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all"
            >
              Continue
            </button>
            <button
              type="button"
              id="authCancel"
              class="flex-1 py-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-all"
            >
              Cancel
            </button>
          </div>
        </form>

        <p class="text-sm text-purple-300 mt-4">
          <span id="authToggleText">¿Nuevo aquí?</span>
          <button id="authToggleBtn" class="underline hover:text-purple-200">
            Create an account
          </button>
        </p>

        <!-- Privacy note -->
        <p class="text-xs text-slate-500 mt-4 text-center">
          By continuing, you agree a our Términos de Servicio y Política de Privacidad
        </p>
      </div>
    </div>

    <!-- Load Stripe.js before scripts that use it -->
    <script src="https://js.stripe.com/v3"></script>

    <!-- Update the JavaScript section a handle Google auth callbacks -->
    <script>
      // Add this a your existing JavaScript section, after the auth modal code

      // Check para Google auth success/error on page load
      window.addEventListener("DOMContentLoaded", async () => {
        const urlParams = new URLSearchParams(window.location.search);

        // Handle Google auth callbacks
        if (urlParams.get("auth_status") === "success") {
          await refreshSession();
          toast("Successfully signed in con Google!");
          // Clean up URL
          window.history.replaceState(
            {},
            document.title,
            window.location.pathname
          );
        } else if (urlParams.get("auth_error") === "google_failed") {
          toast("Google sign-in failed. Por favor, inténtalo de nuevo.");
          // Clean up URL
          window.history.replaceState(
            {},
            document.title,
            window.location.pathname
          );
        }

        // Handle Stripe checkout cancellation
        if (urlParams.get("checkout_status") === "cancel") {
          toast("Checkout cancelled.");
          window.history.replaceState(
            {},
            document.title,
            window.location.pathname
          );
        }
      });

      // Update the updateAuthUI function a show auth method
      function updateAuthUI() {
        const total = totalCredits();
        $("#creditsCount").textContent = total;
        $("#creditsLabel").textContent = "Credits";

        if (sessionUser) {
          // Check if Google user (you might want a add this info desde backend)
          const displayText =
            sessionUser.authMethod === "google"
              ? `${sessionUser.email} (Google)`
              : sessionUser.email;

          $("#authBtnText").textContent = displayText;
          $("#logoutBtn").classList.remove("hidden");
          $("#signInBtn").classList.add("bg-slate-700", "hover:bg-slate-600");
          $("#signInBtn").classList.remove(
            "bg-gradient-to-r",
            "from-purple-600",
            "to-pink-600",
            "hover:from-purple-700",
            "hover:to-pink-700"
          );
        } else {
          $("#authBtnText").textContent = "Sign In";
          $("#logoutBtn").classList.add("hidden");
          $("#signInBtn").classList.remove(
            "bg-slate-700",
            "hover:bg-slate-600"
          );
          $("#signInBtn").classList.add(
            "bg-gradient-to-r",
            "from-purple-600",
            "to-pink-600",
            "hover:from-purple-700",
            "hover:to-pink-700"
          );
        }

        // Visual state if out of créditos
        const créditosBtn = $("#creditsBtn");
        if (total <= 0) {
          créditosBtn.classList.add("bg-red-600/30", "border-red-500/50");
          créditosBtn.classList.remove(
            "bg-purple-600/30",
            "border-purple-500/50"
          );
        } else {
          créditosBtn.classList.remove("bg-red-600/30", "border-red-500/50");
          créditosBtn.classList.add("bg-purple-600/30", "border-purple-500/50");
        }
      }

      // Update the créditos display a show Google users differently
      document.getElementById("creditsBtn").addEventListener("click", () => {
        if (!sessionUser) {
          openAuth("login");
          return;
        }
        const c = créditos || {};
        const free = Number(c.free_remaining || 0);
        const paid = Number(c.paid_remaining || 0);
        const total = totalCredits();
        const authType =
          sessionUser.authMethod === "google" ? " (Google Account)" : "";

        toast(
          `Credits${authType} — Total: ${total}${
            free || paid ? ` (free: ${free}, paid: ${paid})` : ""
          }`
        );
      });
    </script>

    <!-- How it works-->
    <!-- Indexable Content Section -->
    <section
      id="how-it-works"
      class="relative z-10 max-w-7xl mx-auto px-6 lg:px-12 mt-16"
    >
      <h2 class="text-3xl lg:text-4xl font-bold mb-6">
        <span class="gradient-text">How Toyrender Works</span> — Transform Your Photos
      </h2>
      <p class="text-purple-200 max-w-3xl">
        Turn any clear portrait into stunning AI-generated images en segundos.
        Whether you need collectible figurines, professional dating photos, or
        business headshots, our AI - powered by Google's latest Image Model
        Nano Banana - creates high-resolution designs tailored a your needs.
      </p>

      <!-- Cómo Funciona -->
      <section
        id="learn"
        class="relative z-10 max-w-7xl mx-auto px-6 lg:px-12 mt-16"
      >
        <div class="text-center">
          <h2 class="text-3xl lg:text-4xl font-bold mb-4">
            <span class="gradient-text">Cómo Funciona</span> in 3 Simple Steps
          </h2>
          <p class="text-purple-200 max-w-3xl mx-auto">
            Transform any clear portrait into professional AI photos en segundos.
            Our process is designed a be fast, easy, y fun.
          </p>
        </div>

        <!-- Horizontal Step-by-Step Guide -->
        <div class="relative mt-12 grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- Arrow connecting Step 1 y 2 -->
          <div
            class="hidden md:block absolute top-1/2 left-1/3 transform -translate-x-1/2 -translate-y-1/2 -mt-16 text-purple-500/50"
          >
            <i class="fas fa-arrow-right text-4xl"></i>
          </div>
          <!-- Arrow connecting Step 2 y 3 -->
          <div
            class="hidden md:block absolute top-1/2 right-1/3 transform translate-x-1/2 -translate-y-1/2 -mt-16 text-purple-500/50"
          >
            <i class="fas fa-arrow-right text-4xl"></i>
          </div>

          <!-- Step 1 -->
          <div
            class="bg-slate-800/50 border border-purple-500/30 rounded-xl p-6 flex flex-col items-center text-center"
          >
            <div
              class="flex items-center justify-center w-16 h-16 mb-4 bg-purple-600 rounded-full text-2xl font-bold ring-4 ring-purple-600/30"
            >
              1
            </div>
            <h3 class="text-xl font-semibold mb-2">Subir Foto</h3>
            <p class="text-purple-300 text-sm mb-2">
              Choose a clear, forward-facing photo. JPG o PNG files work best.
            </p>
            <p class="text-purple-400 text-xs font-semibold mb-4">
              ⏱️ Takes 10 seconds
            </p>
            <img
              src="/images/PortraitExampleStep1.jpg"
              alt="Upload a clear portrait photo"
              class="rounded-lg w-full bg-black/20"
            />
          </div>

          <!-- Step 2 -->
          <div
            class="bg-slate-800/50 border border-purple-500/30 rounded-xl p-6 flex flex-col items-center text-center"
          >
            <div
              class="flex items-center justify-center w-16 h-16 mb-4 bg-purple-600 rounded-full text-2xl font-bold ring-4 ring-purple-600/30"
            >
              2
            </div>
            <h3 class="text-xl font-semibold mb-2">Choose Style</h3>
            <p class="text-purple-300 text-sm mb-2">
              Select desde our curated collection of AI-powered styles.
            </p>
            <p class="text-purple-400 text-xs font-semibold mb-4">
              👆 Just 1 click
            </p>
            <img
              src="/images/PortraitExampleStep3.jpg"
              alt="AI generating the figurine design"
              class="rounded-lg w-full bg-black/20"
            />
          </div>

          <!-- Step 3 -->
          <div
            class="bg-slate-800/50 border border-purple-500/30 rounded-xl p-6 flex flex-col items-center text-center"
          >
            <div
              class="flex items-center justify-center w-16 h-16 mb-4 bg-purple-600 rounded-full text-2xl font-bold ring-4 ring-purple-600/30"
            >
              3
            </div>
            <h3 class="text-xl font-semibold mb-2">Generate & Download</h3>
            <p class="text-purple-300 text-sm mb-2">
              AI transforms your photo into amazing results instantly.
            </p>
            <p class="text-purple-400 text-xs font-semibold mb-4">
              ⚡ Under 30 seconds
            </p>
            <img
              src="/images/PortraitExampleStep2.jpeg"
              alt="Downloading the final high-resolution image"
              class="rounded-lg w-full bg-black/20"
            />
          </div>
        </div>

        <!-- "Styles & Use Cases" y "Licensing" sections would follow here -->
      </section>

      <!-- Styles & Use Cases -->
      <section
        id="styles"
        class="relative z-10 max-w-7xl mx-auto px-6 lg:px-12 mt-16"
      >
        <header class="mb-6">
          <h2 class="text-3xl lg:text-4xl font-bold">
            <span class="gradient-text">Styles &amp; Use Cases</span> — Ideas to
            Try
          </h2>
          <p class="text-purple-200 max-w-3xl mt-2">
            Explore popular themes y practical ways a use your AI figurine
            concept. Click a style, generate your preview, then
            <a href="#pricing-title" class="underline hover:text-purple-300"
              >download in high-res</a
            >.
          </p>
        </header>

        <!-- Use Case Cards -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
          <!-- Cosplay -->
          <article
            class="bg-slate-800/50 border border-purple-500/30 rounded-xl overflow-hidden"
          >
            <img
              src="/images/CosplayExample.jpg"
              alt="Cosplay AI figurine styles like anime hero, ninja, y mecha"
              class="w-full h-auto object-contain"
              loading="lazy"
              decoding="async"
              width="640"
              height="384"
            />
            <div class="p-5">
              <h3 class="text-xl font-semibold mb-2">
                Cosplay figurine desde photo
              </h3>
              <p class="text-purple-200 text-sm">
                Turn your portrait into an <strong>anime hero</strong>, stealthy
                <strong>ninja</strong>, o towering <strong>mecha</strong>.
                Great para con badges, profile art, o posters.
              </p>
            </div>
          </article>

          <!-- Graduation -->
          <article
            class="bg-slate-800/50 border border-purple-500/30 rounded-xl overflow-hidden"
          >
            <img
              src="/images/GraduationExample.jpg"
              alt="Graduation-themed AI figurine concept con cap y gown"
              class="w-full h-auto object-contain"
              loading="lazy"
              decoding="async"
              width="640"
              height="384"
            />
            <div class="p-5">
              <h3 class="text-xl font-semibold mb-2">
                Graduation figurine concept
              </h3>
              <p class="text-purple-200 text-sm">
                Celebrate milestones con a cap-and-gown figurine look. Perfect
                para announcements, thank-you cards, y keepsake prints.
              </p>
            </div>
          </article>

          <!-- Business / LinkedIn -->
          <article
            class="bg-slate-800/50 border border-purple-500/30 rounded-xl overflow-hidden"
          >
            <img
              src="/images/LinkedinBusinessExample.jpg"
              alt="Business o LinkedIn avatar styled as a professional figurine"
              class="w-full h-auto object-contain"
              loading="lazy"
              decoding="async"
              width="640"
              height="384"
            />
            <div class="p-5">
              <h3 class="text-xl font-semibold mb-2">
                Business / LinkedIn avatar
              </h3>
              <p class="text-purple-200 text-sm">
                A polished, brand-friendly figurine avatar para profiles, speaker
                bios, pitch decks, y team pages.
              </p>
            </div>
          </article>

          <!-- Streamer / Gamer -->
          <article
            class="bg-slate-800/50 border border-purple-500/30 rounded-xl overflow-hidden"
          >
            <img
              src="/images/StreamerExample.jpg"
              alt="Streamer o gamer channel art figurine concept"
              class="w-full h-auto object-contain"
              loading="lazy"
              decoding="async"
              width="640"
              height="384"
            />
            <div class="p-5">
              <h3 class="text-xl font-semibold mb-2">
                Streamer / gamer channel art
              </h3>
              <p class="text-purple-200 text-sm">
                Create standout channel art, emotes, y banners con a themed
                figurine concept that matches your vibe.
              </p>
            </div>
          </article>

          <!-- Gift Ideas -->
          <article
            class="bg-slate-800/50 border border-purple-500/30 rounded-xl overflow-hidden"
          >
            <img
              src="/images/GiftIdeasExample.jpg"
              alt="Gift ideas such as anniversaries, birthdays, weddings using AI figurine concepts"
              class="w-full h-auto object-contain"
              loading="lazy"
              decoding="async"
              width="640"
              height="384"
            />
            <div class="p-5">
              <h3 class="text-xl font-semibold mb-2">Gift ideas</h3>
              <p class="text-purple-200 text-sm">
                Thoughtful visuals para <strong>anniversaries</strong>,
                <strong>birthdays</strong>, y <strong>weddings</strong>.
                Print, frame, o share digitally.
              </p>
            </div>
          </article>

          <!-- 3D Printing References -->
          <article
            class="bg-slate-800/50 border border-purple-500/30 rounded-xl overflow-hidden"
          >
            <img
              src="/images/3DPrinterExample.jpg"
              alt="3D printing reference concept derived desde AI figurine image"
              class="w-full h-auto object-contain"
              loading="lazy"
              decoding="async"
              width="640"
              height="384"
            />
            <div class="p-5">
              <h3 class="text-xl font-semibold mb-2">3D-printing references</h3>
              <p class="text-purple-200 text-sm">
                We deliver high-resolution <strong>images</strong> (not STL
                files). Use the art as a reference para a 3D artist o printing
                service a model your piece.
              </p>
            </div>
          </article>
        </div>

        <!-- Testimonios-->

        <div class="testimonials-section mt-16">
          <h2 class="section-title">
            Customers talking about their figurines images
          </h2>

          <div class="testimonials-grid">
            <div class="testimonial-card">
              <div class="stars">
                <span class="star">★</span>
                <span class="star">★</span>
                <span class="star">★</span>
                <span class="star">★</span>
                <span class="star">★</span>
              </div>
              <p class="testimonial-text">
                "Toyrender is absolutely incredible! I transformed photos of my
                family into collectible figurines that look professional. As a
                designer, I use it a prototype character designs before
                commissioning 3D models. Game changer!"
              </p>
              <div class="customer-info">
                <span class="customer-name">Marcus Chen</span>
                <div class="verified-badge">
                  <div class="verified-icon">✓</div>
                  <span class="verified-text">Verified Purchase</span>
                </div>
              </div>
            </div>

            <div class="testimonial-card">
              <div class="stars">
                <span class="star">★</span>
                <span class="star">★</span>
                <span class="star">★</span>
                <span class="star">★</span>
                <span class="star">★</span>
              </div>
              <p class="testimonial-text">
                "Best gift idea ever! Created figurines of me y my boyfriend
                in different themes - superhero, medieval, cyberpunk. The
                quality blew us away. All our friends want their own now. Worth
                every penny!"
              </p>
              <div class="customer-info">
                <span class="customer-name">Sofia Martinez</span>
                <div class="verified-badge">
                  <div class="verified-icon">✓</div>
                  <span class="verified-text">Verified Purchase</span>
                </div>
              </div>
            </div>

            <div class="testimonial-card">
              <div class="stars">
                <span class="star">★</span>
                <span class="star">★</span>
                <span class="star">★</span>
                <span class="star">★</span>
                <span class="star empty">★</span>
              </div>
              <p class="testimonial-text">
                "Good quality = great results. Initially struggled con lighting
                in my photos, but once I followed the tips, the figurines came
                out stunning. The AI is surprisingly accurate con facial
                features. Soporte team was very helpful!"
              </p>
              <div class="customer-info">
                <span class="customer-name">Alex Thompson</span>
                <div class="verified-badge">
                  <div class="verified-icon">✓</div>
                  <span class="verified-text">Verified Purchase</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Quality Tips -->
        <div class="mt-12">
          <h3 class="text-2xl font-semibold mb-3">Quality Tips</h3>
          <div class="grid md:grid-cols-2 gap-6">
            <div
              class="bg-slate-800/50 border border-green-500/30 rounded-xl p-6"
            >
              <h4 class="font-semibold mb-2">Do this para best results</h4>
              <ul class="list-disc list-inside text-purple-200 space-y-1">
                <li>
                  Good lighting (natural o soft indoor), avoid harsh shadows.
                </li>
                <li>
                  Camera at arm’s length; keep your face centered y sharp.
                </li>
                <li>Face fully visible; neutral o simple background.</li>
                <li>Upload a clear JPG/PNG up a 10&nbsp;MB.</li>
              </ul>
            </div>
            <div
              class="bg-slate-800/50 border border-red-500/30 rounded-xl p-6"
            >
              <h4 class="font-semibold mb-2">What a avoid</h4>
              <ul class="list-disc list-inside text-purple-200 space-y-1">
                <li>Backlight (window behind you) y dim rooms.</li>
                <li>Motion blur o heavy filters/beauty effects.</li>
                <li>Busy backgrounds that hide your outline.</li>
                <li>Shots con little children (currently not allowed).</li>
              </ul>
            </div>
          </div>
          <p class="text-purple-200 mt-6">
            ¿Nuevo aquí? See
            <a href="#how-it-works" class="underline hover:text-purple-300"
              >how it works</a
            >
            o jump to
            <a href="#pricing-title" class="underline hover:text-purple-300"
              >pricing</a
            >.
          </p>
        </div>
      </section>

      <!-- Licensing & Privacy -->
      <div class="mt-12">
        <h3 class="text-2xl font-semibold mb-4">Licensing & privacy</h3>
        <p class="text-purple-200">
          <strong>Ownership:</strong> You own the outputs you generate. The Pro
          Pack includes a commercial-use license; Prueba Gratuita results are for
          personal, non-commercial use.
        </p>
        <p class="text-purple-200 mt-3">
          <strong>Rights & restrictions:</strong> Please avoid content that
          infringes on third-party rights (e.g., logos, branded costumes) or
          violates our Terms. For minors, only a parent o legal guardian may
          upload photos.
        </p>
        <p class="text-purple-200 mt-3">
          <strong>Privacy:</strong> Your photos are processed a create the
          render y handled in line con our
          <a href="/privacy.html" class="underline hover:text-purple-300"
            >Política de Privacidad</a
          >. We don't publicly share uploads. Avoid submitting sensitive
          imagery.
        </p>
        <p class="text-purple-200 mt-3">
          Have questions? Check our
          <a href="/faq" class="underline hover:text-purple-300">Preguntas Frecuentes</a> or
          <a href="/contact" class="underline hover:text-purple-300"
            >contact us</a
          >.
        </p>
      </div>
    </section>

    <!-- FAQ Section-->
    <section
      id="faq"
      class="mt-24 max-w-4xl mx-auto px-6 lg:px-12"
      aria-labelledby="faq-title"
    >
      <h2 id="faq-title" class="text-3xl font-bold mb-8">
        Frequently Asked Questions
      </h2>

      <div class="space-y-4">
        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >Do I own the generated figurine design?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Yes. With the Paquete Pro you receive a commercial-use license para your
            outputs. Prueba Gratuita results are para personal, non-commercial use.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >How can I order a plastic figurine of myself?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Start by generating your figurine concept on Toyrender con a clear
            headshot y the outfit o theme you want. Once you love a render,
            follow our step-by-step guide a submit the artwork a a 3D printing
            partner o figurine fabrication shop. You can see the full process
            here:
            <a
              href="/how-to-order-a-figurine-of-me-online.html"
              class="text-purple-300 underline hover:text-purple-100"
              >How a order a figurine of me online</a
            >.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >How long does generation take?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Usually under a minute; during busy periods it can take a bit
            longer. You’ll see a live status while we create your figurine.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >What image formats y sizes are supported?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            JPG y PNG up a 10&nbsp;MB work best. For the best results, upload
            a clear, well-lit photo con your face visible.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >What do I receive after generation?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            A high-resolution image preview of your figurine design con a
            download option. We don’t ship physical figurines at this time.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >Can I choose styles o themes?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Yes—pick desde preset styles o add your own prompt (e.g., “anime
            hero”, “space explorer”, “graduation outfit”, “cyberpunk”). We’ll
            render your photo in that theme.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold">Are my photos private?</span>
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            We never publicly share your uploads. Photos are used a create your
            result in line con our Política de Privacidad. Please avoid uploading
            sensitive images.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >Can I use outputs commercially?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Yes con the Paquete Pro license. Please don’t use outputs in a way
            that infringes third-party rights (e.g., logos, branded costumes) or
            impersonates others.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >Do créditos expire? What if something goes wrong?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Créditos are tied a your account. If you run into any issue con a
            generation, contact support y we’ll help fix it.
          </div>
        </details>
        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >Do you really use the latest AI Imaging Models? Always?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Absolutely! We do adjust our AI Photo Imaging a the best models
            currently vailable.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >Can I 3D-print the result?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            We currently provide high-resolution images (not STL files). You can
            use the image as reference para a 3D artist o printer. You can
            further upscale the image con AI Image Upscaler.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >Can I upload photos of children o multiple people?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-4 text-purple-300">
            Very young Children are currently not possible due a Restriction of
            Google AI Nano Banana Model. Group of Persons are no problem.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold">Any content restrictions?</span>
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            The AI Model does not allow nudity, hateful, o illegal content nor
            young Children. Don’t upload images o prompts that violate rights
            o our Terms.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >What is the AI Figure Generator?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            It's our advanced pipeline (powered by Gemini's Nano Banana model)
            that converts a single photo into a collectible-style figurine
            concept con realistic lighting, stylized proportions, and
            presentation packaging mockup.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >What are the technical requirements?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Just a modern browser (Chrome, Firefox, Safari, Edge). Enable
            JavaScript y upload a sharp, well‑lit image at least 512×512px. No
            installs o plugins required.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold">How is my data protected?</span>
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            All uploads travel over HTTPS, are processed securely, y are
            periodically purged after generation. We don't sell, publicly
            display, o train custom models on your private photos without
            explicit consent.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >Are there plan o usage limits?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Free tier includes a daily generation cap. Upgrading a Max / Pro
            unlocks priority processing y higher (or no) limits. All usage
            must respect our content guidelines—no unlicensed IP o disallowed
            subjects.
          </div>
        </details>

        <details
          class="group bg-slate-800/50 border border-purple-500/30 rounded-xl p-5"
        >
          <summary class="flex cursor-pointer items-center justify-between">
            <span class="text-lg font-semibold"
              >What is your refund policy?</span
            >
            <span
              class="ml-4 transition-transform group-open:rotate-180"
              aria-hidden="true"
              >⌄</span
            >
          </summary>
          <div class="mt-3 text-purple-200">
            Because each successful generation consumes real GPU/API cost,
            completed renders are non-refundable. Please try the free tier first
            a ensure quality matches expectations before upgrading.
          </div>
        </details>
      </div>
    </section>

    <!-- Footer -->
    <footer
      class="relative z-10 mt-20 px-6 py-12 lg:px-12 border-t border-purple-800/30"
      role="contentinfo"
    >
      <div class="max-w-7xl mx-auto text-center">
        <div class="flex items-center justify-center space-x-2 mb-6">
          <i
            class="fas fa-cube text-2xl text-purple-400"
            aria-hidden="true"
          ></i>
          <span class="text-xl font-bold gradient-text">Toyrender</span>
        </div>
        <p class="text-purple-300 mb-6">
          © 2025 Toyrender.com. Todos los derechos reservados.
        </p>
        <nav
          class="flex flex-wrap justify-center gap-6 text-purple-400"
          role="navigation"
          aria-label="Footer navigation"
        >
          <a href="/gallery" class="hover:text-purple-300 transition-colors"
            >Figurine Gallery</a
          >
          <a
            href="/ai-background-remover"
            class="hover:text-purple-300 transition-colors"
            >AI Background Remover</a
          >
          <a
            href="/dating-photos-gallery"
            class="hover:text-purple-300 transition-colors"
            >Foto de Citas Gallery</a
          >
          <a
            href="/business-photos-gallery"
            class="hover:text-purple-300 transition-colors"
            >Foto de Negocios Gallery</a
          >
          <a href="/blog" class="hover:text-purple-300 transition-colors"
            >Blog</a
          >
          <a href="/terms" class="hover:text-purple-300 transition-colors"
            >Terms</a
          >
          <a href="/privacy" class="hover:text-purple-300 transition-colors"
            >Privacy</a
          >
          <a href="/contact" class="hover:text-purple-300 transition-colors"
            >Contacto</a
          >
          <a href="/faq" class="hover:text-purple-300 transition-colors">Preguntas Frecuentes</a>
        </nav>

        <div
          class="mt-6 flex flex-wrap justify-center gap-6 text-sm text-purple-400"
          aria-label="Partner y tools"
        >
          <a
            href="https://bananabatch.com"
            rel="noopener"
            target="_blank"
            class="hover:text-purple-300 transition-colors"
            >bananabatch.com - batch creating con Nano Banana</a
          >
          <a
            href="/imagetotext.html"
            class="hover:text-purple-300 transition-colors"
            >Toyrender imagetotext tool</a
          >
          <a
            href="https://thismodelnotexist.com"
            rel="noopener"
            target="_blank"
            class="hover:text-purple-300 transition-colors"
            >thismodelnotexist.com</a
          >
        </div>
      </div>
    </footer>

    <script>
      /* ----------------------- Helpers ----------------------- */
      const $ = (sel) => document.querySelector(sel);
      const fetchJSON = async (url, opts = {}) => {
        const res = await fetch(url, { credentials: "include", ...opts });
        let data = null;
        try {
          data = await res.json();
        } catch {}
        if (!res.ok) {
          const msg =
            (data && (data.error || data.message)) ||
            res.statusText ||
            "Request failed";
          const err = new Error(msg);
          err.status = res.status;
          err.data = data;
          throw err;
        }
        return data;
      };
      function toast(msg) {
        alert(msg);
      }

      let selectedStyle = "figurine1";

      let isPackGeneration = false;
      let packResults = [];
      let currentPackIndex = 0;

      // Updated style prompts mapping - 19 total options (10 figurine, 6 dating, 3 business)
      const stylePrompts = {
        // 10 Figurine Styles
        figurine1:
          "Create a 1/7-scale figurine of the person in a coffee-table lifestyle shoot. The figure stands on a round transparent acrylic base (no text) on a terrazzo tabletop. Soft morning light, plants y a book stack in the background. The packaging con flat 2D art sits casually next a it. Editorial, magazine-style composition.",

        figurine2:
          "Create a 1/7 scale commercialized figurine of the characters in the picture, in a realistic style, in a real environment. The figurine is placed on a computer desk. The figurine has a round transparent acrylic base, con no text on the base. The content on the computer screen is a 3D modeling process of this figurine. Next a the computer screen is a toy packaging box, designed in a style reminiscent of high-quality collectible figures, printed con original artwork. The packaging features two-dimensional flat illustrations.",

        figurine3:
          "A professional, hyperrealistic photograph of a meticulously crafted 1/7-scale collectible figurine of this person in a livestream studio. Shotgun mic, key + fill + backlight, chat window blurred on a side monitor. The other monitor shows the 3D sculpt viewport. Box con flat 2D art against an acoustic panel.",

        figurine4:
          "A stunning, cinematic photograph of a 1/7-scale premium collectible figurine of this person showcased within a sleek, high-end boutique retail window at dusk. The figurine is dramatically spotlighted on an elevated, minimalist matte black plinth. The polished window glass reflects blurred, vibrant city lights y upscale architectural details, adding dynamic background texture. A fine, almost invisible antitheft wire secures the figurine, adding a touch of realism. Behind y a the side, a perfectly symmetrical pyramid stack of boxed collectible units, each featuring eye-catching, original flat 2D art, reinforces the product line. The overall lighting is dramatic y luxurious, con strong contrasts y a sophisticated color palette, designed a catch the eye of passersby.",

        figurine5:
          "A professional, hyperrealistic photograph of a meticulously crafted 1/7-scale collectible figurine, positioned centrally on a sleek round transparent acrylic base (no text), resting elegantly on a polished terrazzo tabletop. The scene is bathed in warm, golden hour soft morning light, creating gentle shadows. In the soft-focused background, a lush arrangement of houseplants y a curated stack of hardcover books add depth. The figurine's premium collectible packaging, featuring striking, original flat 2D art, lies artfully y casually next a the base. The overall composition is clean, airy, y high-end editorial, akin a a luxury magazine spread, con a shallow depth of field.",

        figurine6:
          "Create a 1/7-scale figurine of the person in a collector's Detolf cabinet. LED strips top y bottom, other figures blurred on neighboring shelves. One packaging box con flat 2D art sits centered behind.",

        figurine7:
          "A vibrant, nostalgic photograph of a 1/7-scale stylized collectible figurine of the person, standing heroically atop a meticulously crafted, working miniature arcade cabinet desde the 1980s. The figurine is positioned on its round transparent acrylic base (no text). The arcade cabinet's screen flickers con bright, pixelated retro game graphics, casting a dynamic, colorful glow onto the figurine y the surrounding area. The setting is a dimly lit, authentic retro arcade environment, con faint reflections of other cabinet screens visible in the background. Scattered around the base of the arcade cabinet are a few vintage arcade tokens y a half-eaten bag of classic candy. A specially designed, retro-themed packaging box, featuring bold, era-appropriate flat 2D art, leans casually against the side of the arcade machine, blending seamlessly con the nostalgic aesthetic. The composition is dynamic, energetic, y rich con period detail, evoking pure 80s/90s nostalgia.",

        figurine8:
          "Create a 1/7-scale figurine of this person on a color-checker backdrop. Include swatch cards, gray card, y a spectrophotometer. Monitor shows node-based look-dev graph of the figurine materials. Packaging stands upright a the right.",

        figurine9: `Prompt: A dramatic, hyperrealistic photograph of a pristine 1/7-scale rare collectible figurine of this person (preserving fur color/markings), presented under focused, museum-style spot lighting in an exclusive auction house preview. The figurine stands on its round transparent acrylic base (no text) atop a dark, polished mahogany display table. Surrounding it are other blurred, high-value collectibles in glass cases, y a subtle velvet rope demarcation. A crisp, minimalist auction catalog, open a the figurine's entry (no legible text), lies nearby. In the deep, soft-focused background, discerning collectors in elegant attire are subtly visible. The lighting is sophisticated y theatrical, emphasizing exclusivity y the figurine's prestige.\nNegatives: "extra limbs, duplicate heads, text, watermark, brand logos, cheap display, messy background, blurred figurine, harsh reflections."\nOptions: "A small, engraved brass lot number tag (digital/printable)", "Subtle, shimmering light reflecting off the figurine's surface."`,

        figurine10:
          "An evocative, artisanal photograph of a 1/7-scale collectible figurine of the person, meticulously arranged on a well-worn wooden workbench within a vibrant artist's studio. The figurine stands on its round transparent acrylic base (no text), positioned thoughtfully beside a miniature easel holding a blank, stretched canvas y a tiny palette con dabs of paint. Soft, natural light streams in desde a large window, highlighting textures y casting gentle shadows across the scene. Surrounding the figurine are realistic miniature artist's tools: fine-tipped brushes, a small clay sculpting tool, y a few spilled charcoal sticks. In the soft-focused background, abstract canvases lean against the wall, y shelves overflow con art supplies, creating a sense of creative activity. The figurine's bespoke, artisanal packaging box, resembling a limited edition art print folio con expressive, brushstroke-inspired flat 2D artwork, lies partially open nearby, hinting at the creative journey. The overall composition is authentic, inspiring, y captures the spirit of artistic craftsmanship, con a shallow depth of field.",

        dating1: `Prompt: A professional, hyperrealistic photograph capturing the person (preserving hair color/style, eye color), lounging intimately on luxurious, slightly rumpled white silk sheets. Her body is artfully draped y partially covered by a soft, oversized white button-down shirt o silk robe, revealing a bare shoulder o leg. She gazes softly towards the camera con a tender, inviting, y slightly playful expression, as if just waking up. Soft, warm, diffused morning sunlight streams through a sheer window, creating a luminous, ethereal glow y gentle highlights on her skin. A single, long-stemmed red rose lies casually on the pillow nearby. The composition is clean, airy, y deeply intimate, evoking a feeling of romantic connection y sensuality, con a shallow depth-of-field.\nNegatives: "extra limbs, duplicate heads, text, watermark, brand logos, messy o dirty sheets, harsh o artificial lighting, aggressive o stressed expression, explicit nudity, unrealistic proportions, visible tattoos (unless specified)."\nOptions: "Woman wearing underwear", "A personalized, handwritten 'love note' (blurred text) casually folded on the bedside table", "A steaming cup of gourmet coffee on a nearby minimalist nightstand."`,

        dating2: `Prompt: An adorable y heartwarming photograph of the person (preserving hair color/style, eye color), con a sweet, playful smile y a hint of charm, playfully peeking over the top of a fluffy, oversized comforter in a brightly lit, cozy bedroom. She is dressed in comfortable yet charming loungewear (e.g., silk camisole, soft knit top). Her eyes sparkle con warmth y affection as she looks directly at the camera. Soft, warm, diffused natural light fills the room, creating an inviting y comfortable atmosphere. Scattered lightly on the comforter are a few delicate rose petals. The background is a tastefully blurred, homey bedroom, perhaps con a sunbeam on a nearby wall. The image conveys affection, tenderness, y a charming playfulness, perfect para a social media share o a personal gift. Negatives: "extra limbs, duplicate heads, text, watermark, brand logos, messy background (beyond soft comfort), harsh lighting, anxious o aggressive expression, unrealistic proportions, visible tattoos (unless specified)." Options: Woman gently blowing a kiss towards the camera (blurred motion); a personalized, small framed photo (blurred image) on a nearby nightstand; a stack of favorite books y a warm beverage nearby.`,

        dating3: `Prompt: A professional, hyperrealistic photograph of the person (preserving hair color/style, eye color), captured in a moment of elegant preparation para an evening out. She is seated o standing gracefully at a luxurious vanity table o in a chic dressing area, perhaps delicately applying lipstick o adjusting a piece of fine jewelry. She wears a sophisticated silk robe o a form-fitting, elegant dress that subtly accentuates her. Her gaze is confident y alluring, meeting her reflection in a softly lit mirror o looking thoughtfully towards the camera. The background features blurred, upscale decor like shimmering perfume bottles, delicate floral arrangements, y rich textures. Soft, warm, indirect lighting (like a vanity light o evening lamp) creates a luxurious glow y intimate highlights, evoking anticipation, con a shallow depth-of-field. Negatives: "extra limbs, duplicate heads, text, watermark, brand logos, messy o cluttered vanity, harsh o unflattering lighting, aggressive o crude pose, unrealistic proportions, visible tattoos (unless specified)." Options: Woman holding a delicate clutch purse; a subtle reflection of a cityscape at dusk in the background mirror; a personalized, elegant note card (blurred text) lying on the vanity.`,

        dating4: `Prompt: An energetic y enchanting photograph of the person (preserving hair color/style, eye color), captured in a moment of playful, lighthearted motion, perhaps twirling gently, tossing her hair back con a laugh, o playfully reaching out towards the camera. She is dressed in a light, flowing summer dress o a soft, denim-and-lace ensemble that moves con her, hinting at her form. The setting is a vibrant, sun-drenched outdoor location, like a blooming garden, a pristine beach con gentle waves, o a cheerful, airy patio. Bright, natural daylight creates sparkling highlights y a joyous, carefree atmosphere. Her expression is genuinely happy, con a flirty smile y sparkling eyes. The background is beautifully blurred, adding a the dynamic y inviting feel, con subtle motion blur on her hair o dress a emphasize movement.\nNegatives: "extra limbs, duplicate heads, text, watermark, brand logos, stiff pose, harsh shadows, explicit nudity, aggressive o crude gestures, unrealistic proportions, visible tattoos (unless specified)."\nOptions: "Woman holding a delicate wildflower bouquet," "Subtle sun flare effect in the background," "A tiny, barely visible anklet o bracelet accessory."`,

        dating5: `Prompt: A sensual y artistic photograph of the person (preserving hair color/style, eye color), captured in an intimate moment of self-reflection o gentle touch. She is sitting o kneeling gracefully, perhaps con her back partially turned, subtly revealing the curve of her back, shoulder, o the delicate line of her neck. Her hair is artfully styled a highlight these areas, perhaps partially undone o swept a one side. She is dressed in a soft, luxurious silk slip o a delicate, unfastened robe. The setting is minimalist y elegant, like a high-end bedroom o a spa-like bathroom, con a large, antique-style mirror in the soft-focused background o as a framing element. Soft, ambient lighting creates gentle contrasts y emphasizes skin texture. The mood is one of serene introspection, quiet beauty, y sophisticated sensuality, con a shallow depth-of-field.\nNegatives: "extra limbs, duplicate heads, text, watermark, brand logos, cluttered background, harsh lighting, aggressive o crude pose, unrealistic proportions, visible tattoos (unless specified)."\nOptions: "A delicate string of pearls o a simple necklace resting on her back," "Subtle steam effect in a bathroom setting," "A single, flickering candle creating a warm glow."`,

        dating6: `Prompt: An intimately captivating, hyperrealistic photograph of a woman (preserving hair color/style, eye color), seated casually yet gracefully on the edge of a bed, dressed in an oversized, soft cotton shirt o a man's unbuttoned dress shirt, subtly revealing a bare shoulder, a glimpse of her back, o the graceful line of her leg. Her hair is beautifully disheveled, as if just woken, y she turns her head slightly towards the camera con a confident, slightly mischievous, y warmly inviting smile. One hand might be playfully running through her hair o resting on her thigh. The luxurious bedding (silk o high-thread-count cotton) is slightly rumpled around her. The scene is bathed in soft, warm, diffused morning light, creating a dreamy, intimate glow. The background is a tastefully blurred bedroom, emphasizing comfort y personal space. The mood is one of relaxed sensuality, approachable charm, y confident vulnerability, con a shallow depth-of-field.\nNegatives: "extra limbs, duplicate heads, text, watermark, brand logos, messy o dirty bedding, harsh o cold lighting, aggressive o crude pose,unrealistic proportions, visible tattoos (unless specified)."\nOptions: "Woman wearing a delicate, minimalist necklace," "A personalized, sleek mug of coffee on a nearby nightstand," "A glimpse of a luxurious robe casually draped over a chair."`,

        // Business Headshot Styles
        business1:
          "Corporate professional headshot. Formal business attire, confident direct gaze, neutral office background, perfect lighting. LinkedIn-optimized portrait. Clean, trustworthy appearance ideal para corporate profiles y professional networking.",

        business2:
          "Executive leadership headshot. Premium suit, authoritative yet approachable expression, modern office o cityscape background. Power pose con crossed arms o thoughtful gesture. High-end photography style para C-suite y senior management profiles.",

        business3:
          "Approachable business headshot. Business casual attire, warm genuine smile, bright modern workspace background. Friendly y collaborative vibe. Perfect para consultants, freelancers, y client-facing professionals on LinkedIn y company websites.",
      };

      // Style zoom popup functionality
      let currentPopupStyle = null;

      function openStyleZoomPopup(event, imageSrc, styleId, styleName) {
        event.stopPropagation(); // Prevent triggering the button's click event

        const popup = document.getElementById("styleZoomPopup");
        const image = document.getElementById("styleZoomImage");
        const selectButton = document.querySelector(".style-zoom-popup-select");

        image.src = imageSrc;
        image.alt = styleName;
        selectButton.innerHTML =
          '<i class="fas fa-check mr-2"></i>Select ' + styleName;

        currentPopupStyle = styleId;
        popup.classList.add("active");

        // Prevent body scroll when popup is open
        document.body.style.overflow = "hidden";
      }

      function closeStyleZoomPopup() {
        const popup = document.getElementById("styleZoomPopup");
        popup.classList.remove("active");

        // Restore body scroll
        document.body.style.overflow = "";
        currentPopupStyle = null;
      }

      function selectStyleFromPopup() {
        if (currentPopupStyle) {
          // Remove active desde all buttons
          document
            .querySelectorAll(".style-option[data-style]")
            .forEach((btn) => btn.classList.remove("active"));

          // Add active a selected button
          const selectedButton = document.querySelector(
            `[data-style="${currentPopupStyle}"]`
          );
          if (selectedButton) {
            selectedButton.classList.add("active");
          }

          // Update selected style
          selectedStyle = currentPopupStyle;

          // Update zoom overlay icons a show selected state
          const allZoomOverlays = document.querySelectorAll(
            ".style-zoom-overlay"
          );
          allZoomOverlays.forEach((overlay) => {
            overlay.classList.remove("selected");
            const icon = overlay.querySelector("i");
            if (icon) {
              icon.className = "fas fa-search-plus";
            }
          });

          // Mark current zoom overlay as selected
          const currentZoomOverlay = selectedButton?.querySelector(
            ".style-zoom-overlay"
          );
          if (currentZoomOverlay) {
            currentZoomOverlay.classList.add("selected");
            const icon = currentZoomOverlay.querySelector("i");
            if (icon) {
              icon.className = "fas fa-check";
            }
          }

          // Close popup
          closeStyleZoomPopup();
        }
      }

      // Close popup when clicking outside the content
      document.addEventListener("DOMContentLoaded", function () {
        const popup = document.getElementById("styleZoomPopup");
        if (popup) {
          popup.addEventListener("click", function (event) {
            if (event.target === popup) {
              closeStyleZoomPopup();
            }
          });
        }

        // Close popup con ESC key
        document.addEventListener("keydown", function (event) {
          if (event.key === "Escape") {
            closeStyleZoomPopup();
          }
        });
      });

      // Show/hide continue button functionality
      function showContinueButton() {
        const stickyCTA = document.getElementById('stickyCTABtn');
        if (stickyCTA) {
          stickyCTA.innerHTML = '<i class="fas fa-magic mr-2"></i>Generate Image';
          stickyCTA.style.background = 'linear-gradient(135deg, #10b981, #059669)';
          stickyCTA.style.transform = 'scale(1.05)';
          stickyCTA.style.boxShadow = '0 8px 25px rgba(16, 185, 129, 0.4)';

          // Update click handler a execute generate image functionality
          stickyCTA.onclick = function() {
            // Trigger the generate image function
            generateImage();

            if (typeof gtag === "function") {
              gtag("event", "generate_image_from_sticky_cta", {
                event_category: "engagement",
                event_label: selectedStyle,
              });
            }
          };
        }
      }

      function hideContinueButton() {
        const stickyCTA = document.getElementById('stickyCTABtn');
        if (stickyCTA) {
          stickyCTA.innerHTML = '<i class="fas fa-bolt"></i><span>Try it para free!</span>';
          stickyCTA.style.background = 'linear-gradient(to right, rgb(249 115 22), rgb(239 68 68))';
          stickyCTA.style.transform = '';
          stickyCTA.style.boxShadow = '';

          // Restore original click handler
          stickyCTA.onclick = function() {
            document.querySelector("#uploadArea").scrollIntoView({
              behavior: "smooth",
              block: "center",
            });
            if (typeof gtag === "function") {
              gtag("event", "click_sticky_cta", {
                event_category: "engagement",
                event_label: "sticky_try_it_free",
              });
            }
          };
        }
      }

      // Mobile device detection
      function isMobileDevice() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;
      }

      // Generate image function a be called by the sticky CTA
      function generateImage() {
        // Programmatically trigger the generate button click
        const generateBtn = document.getElementById("generateBtn");
        if (generateBtn) {
          generateBtn.click();
        }
      }

      // Results page functionality
      function showResultsPage(originalImageSrc, generatedImageSrc) {
        // Hide all other sections
        document.getElementById('heroSection')?.classList.add('hidden');
        document.getElementById('styleSelectionSection')?.classList.add('hidden');
        document.getElementById('previewSection')?.classList.add('hidden');

        // Show results section
        const resultsSection = document.getElementById('resultsSection');
        resultsSection.classList.remove('hidden');

        // Set images
        document.getElementById('resultsOriginalPreview').src = originalImageSrc;
        document.getElementById('resultsBlurredPreview').src = generatedImageSrc;
        document.getElementById('resultsFullQualityPreview').src = generatedImageSrc;

        // Scroll a results
        resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });

        // Update sticky CTA a hide it
        const stickyCTA = document.getElementById('stickyCTABtn');
        if (stickyCTA) {
          stickyCTA.style.display = 'none';
        }

        // Update buttons immediately since session is already refreshed
        updateResultsPageButtons();
      }

      function updateResultsPageButtons() {
        // Customize buttons based on user créditos
        const userCredits = totalCredits();
        console.log('updateResultsPageButtons - User créditos:', userCredits, 'Credits object:', créditos);
        const upgradeBtn = document.getElementById('upgradePackageBtn');
        const generateAnotherBtn = document.getElementById('generateAnotherBtn');
        const downloadBtn = document.getElementById('downloadPreviewBtn');

        // Find the lock overlay on the full quality image
        const fullQualityContainer = document.getElementById('resultsFullQualityPreview')?.parentElement;
        const lockOverlay = fullQualityContainer?.querySelector('.absolute.inset-0');

        // Find testimonial y payment badge
        const testimonial = document.querySelector('.mt-4.bg-gradient-to-r.from-yellow-500\\/20');
        const securePaymentBadge = document.querySelector('.mt-2.flex.items-center.justify-center.text-xs.text-gray-400');

        // Find the button container
        const buttonContainer = document.querySelector('#resultsSection .grid.grid-cols-1.md\\:grid-cols-3');

        if (userCredits > 0) {
          // User has créditos - simplify UI
          console.log('User has créditos - simplifying UI');

          // Hide the lock overlay on full quality image
          if (lockOverlay) {
            lockOverlay.style.display = 'none';
          }

          // Hide testimonial - not needed para credited users
          if (testimonial) {
            testimonial.style.display = 'none';
          }

          // Hide secure payment badge - not needed para credited users
          if (securePaymentBadge) {
            securePaymentBadge.style.display = 'none';
          }

          // Hide the first download button - we only need one
          if (downloadBtn) {
            downloadBtn.style.display = 'none';
          }

          // Change grid a 2 columns para credited users
          if (buttonContainer) {
            buttonContainer.className = 'grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto';
          }

          // Update main button a be Download Full Quality
          if (upgradeBtn) {
            upgradeBtn.innerHTML = '👉 Download Full Quality';
            upgradeBtn.className = 'w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 rounded-xl font-semibold transition-all transform hover:scale-105 shadow-lg';
          }

          // Update generate another button
          if (generateAnotherBtn) {
            generateAnotherBtn.innerHTML = '<i class="fas fa-magic mr-2"></i>Generate More Styles';
            generateAnotherBtn.className = 'px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-xl font-semibold transition-all text-center';
          }
        } else {
          // User has no créditos - show full upgrade UI
          console.log('User has no créditos - showing upgrade prompts');

          // Show the lock overlay on full quality image
          if (lockOverlay) {
            lockOverlay.style.display = 'flex';
          }

          // Show testimonial para free users
          if (testimonial) {
            testimonial.style.display = 'block';
          }

          // Show secure payment badge para free users
          if (securePaymentBadge) {
            securePaymentBadge.style.display = 'flex';
          }

          // Show download preview button para free users
          if (downloadBtn) {
            downloadBtn.style.display = 'block';
          }

          // Use 3 columns para free users
          if (buttonContainer) {
            buttonContainer.className = 'grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto';
          }

          // Update main upgrade button
          if (upgradeBtn) {
            upgradeBtn.innerHTML = '👉 Unlock Full Quality – $3.99';
            upgradeBtn.className = 'w-full px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 rounded-xl font-semibold transition-all transform hover:scale-105 shadow-lg';
          }

          // Update generate another button
          if (generateAnotherBtn) {
            generateAnotherBtn.innerHTML = '<i class="fas fa-magic mr-2"></i>Upgrade a Generate More Styles';
            generateAnotherBtn.className = 'px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-xl font-semibold transition-all text-center';
          }

          // Update download button
          if (downloadBtn) {
            downloadBtn.innerHTML = '👉 Free sample – low-res, watermarked';
            downloadBtn.className = 'px-6 py-3 bg-slate-600 hover:bg-slate-500 rounded-xl font-semibold transition-all text-center';
          }
        }
      }

      function setupResultsPageHandlers() {
        // Download Preview button
        document.getElementById('downloadPreviewBtn')?.addEventListener('click', function() {
          const userCredits = totalCredits();
          const link = document.createElement('a');

          if (userCredits > 0) {
            // User has créditos - download full quality
            link.href = document.getElementById('resultsFullQualityPreview').src;
            link.download = 'toyrender-full-quality.png';
          } else {
            // No créditos - download preview
            link.href = document.getElementById('resultsBlurredPreview').src;
            link.download = 'toyrender-preview.png';
          }

          link.click();

          // After download, prompt para upgrade only if user has no créditos
          if (userCredits === 0) {
            setTimeout(() => {
              if (confirm('Want the full HD quality without watermark? Upgrade now para just $3.99!')) {
                startCheckout('starter_pack_25_credits');
              }
            }, 1000);
          }

          if (typeof gtag === "function") {
            gtag("event", userCredits > 0 ? "download_full_quality" : "download_preview", {
              event_category: "engagement",
            });
          }
        });

        // Upgrade Package button
        document.getElementById('upgradePackageBtn')?.addEventListener('click', function() {
          const userCredits = totalCredits();
          if (userCredits > 0) {
            // User has créditos - download full quality image
            const link = document.createElement('a');
            link.href = document.getElementById('resultsFullQualityPreview').src;
            link.download = 'toyrender-full-quality.png';
            link.click();

            if (typeof gtag === "function") {
              gtag("event", "download_full_quality", {
                event_category: "engagement",
              });
            }
            return;
          }
          startCheckout('starter_pack_25_credits');

          if (typeof gtag === "function") {
            gtag("event", "click_upgrade_package", {
              event_category: "conversion",
            });
          }
        });

        // Generate Another button
        document.getElementById('generateAnotherBtn')?.addEventListener('click', function() {
          const userCredits = totalCredits();
          if (userCredits > 0) {
            // User has créditos, go back a style selection
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('styleSelectionSection').classList.remove('hidden');

            // Show sticky CTA again as Generate Image
            const stickyCTA = document.getElementById('stickyCTABtn');
            if (stickyCTA) {
              stickyCTA.style.display = '';
              showContinueButton(); // This will make it "Generate Image"
            }
          } else {
            // User has no créditos, prompt para upgrade
            if (confirm('Unlock unlimited style generation con the Paquete Inicial para $3.99. Continue?')) {
              startCheckout('starter_pack_25_credits');
            }
          }

          if (typeof gtag === "function") {
            gtag("event", "generate_another_image", {
              event_category: "engagement",
            });
          }
        });

        // Start Over button
        document.getElementById('startOverBtn')?.addEventListener('click', function() {
          // Reset everything
          document.getElementById('resultsSection').classList.add('hidden');
          document.getElementById('heroSection')?.classList.remove('hidden');
          document.querySelector('#uploadArea')?.classList.remove('hidden');

          // Reset file y previews
          currentFile = null;
          document.getElementById('originalPreview').src = '';
          document.getElementById('resultPreview').src = '';

          // Restore original CTA
          const stickyCTA = document.getElementById('stickyCTABtn');
          if (stickyCTA) {
            stickyCTA.style.display = '';
            hideContinueButton();
          }

          if (typeof gtag === "function") {
            gtag("event", "start_over", {
              event_category: "engagement",
            });
          }
        });
      }

      // Initialize style selection
      function initStyleSelection() {
        // Handle style option clicks
        document
          .querySelectorAll(".style-option[data-style]")
          .forEach((button) => {
            button.addEventListener("click", function (event) {
              // Check if click came desde zoom overlay - if so, don't handle selection here
              if (event.target.closest(".style-zoom-overlay")) {
                return;
              }

              // Remove active desde all buttons
              document
                .querySelectorAll(".style-option[data-style]")
                .forEach((btn) => btn.classList.remove("active"));
              // Add active a clicked button
              this.classList.add("active");
              // Update selected style
              selectedStyle = this.dataset.style;

              // Update zoom overlay icons
              const allZoomOverlays = document.querySelectorAll(
                ".style-zoom-overlay"
              );
              allZoomOverlays.forEach((overlay) => {
                overlay.classList.remove("selected");
                const icon = overlay.querySelector("i");
                if (icon) {
                  icon.className = "fas fa-search-plus";
                }
              });

              // Mark current zoom overlay as selected
              const currentZoomOverlay = this.querySelector(
                ".style-zoom-overlay"
              );
              if (currentZoomOverlay) {
                currentZoomOverlay.classList.add("selected");
                const icon = currentZoomOverlay.querySelector("i");
                if (icon) {
                  icon.className = "fas fa-check";
                }
              }
              if (typeof gtag === "function") {
                gtag("event", "select_style", {
                  event_category: "engagement",
                  event_label: this.dataset.style,
                });
              }

            });

            // Add hover event a trigger zoom popup (desktop only)
            const styleThumb = button.querySelector('.style-thumb');
            if (styleThumb && !isMobileDevice()) {
              let hoverTimeout;

              styleThumb.addEventListener('mouseenter', function() {
                hoverTimeout = setTimeout(() => {
                  const zoomOverlay = button.querySelector('.style-zoom-overlay');
                  if (zoomOverlay) {
                    zoomOverlay.click();
                  }
                }, 500); // 500ms delay before showing popup
              });

              styleThumb.addEventListener('mouseleave', function() {
                if (hoverTimeout) {
                  clearTimeout(hoverTimeout);
                }
              });
            }
          });

        document
          .getElementById("dating9PackBtn")
          ?.addEventListener("click", function () {
            // Remove active desde all buttons
            document
              .querySelectorAll(".style-option[data-style]")
              .forEach((btn) => btn.classList.remove("active"));
            // Add active a pack button
            this.classList.add("active");
            selectedStyle = "dating-pack";
            isPackGeneration = true;
            if (typeof gtag === "function") {
              gtag("event", "select_style", {
                event_category: "engagement",
                event_label: "dating-pack",
              });
            }
          });

        // Handle continue button
        const continueBtn = document.getElementById("continueToPreview");
        if (continueBtn) {
          continueBtn.addEventListener("click", function () {
            document
              .getElementById("styleSelectionSection")
              .classList.add("hidden");
            previewSection.classList.remove("hidden");
          });
        }

        // Initialize zoom overlay icons - set the default selected style (figurine1) a show check icon
        const allZoomOverlays = document.querySelectorAll(
          ".style-zoom-overlay"
        );
        allZoomOverlays.forEach((overlay) => {
          overlay.classList.remove("selected");
          const icon = overlay.querySelector("i");
          if (icon) {
            icon.className = "fas fa-search-plus";
          }
        });

        // Mark figurine1 zoom overlay as selected since it's the default active style
        const defaultButton = document.querySelector(
          '[data-style="figurine1"]'
        );
        const defaultZoomOverlay = defaultButton?.querySelector(
          ".style-zoom-overlay"
        );
        if (defaultZoomOverlay) {
          defaultZoomOverlay.classList.add("selected");
          const icon = defaultZoomOverlay.querySelector("i");
          if (icon) {
            icon.className = "fas fa-check";
          }
        }

      }

      /* ----------------------- Auth & Créditos UI ----------------------- */
      let sessionUser = null;
      let créditos = {
        free_remaining: 0,
        paid_remaining: 0,
        free_renew_utc: null,
      };

      async function refreshSession() {
        try {
          const r = await fetchJSON("/auth/me");
          sessionUser = r.user;
          créditos = r.credits || { remaining: 0 };
        } catch {
          sessionUser = null;
          créditos = {
            free_remaining: 0,
            paid_remaining: 0,
            free_renew_utc: null,
          };
        }
        updateAuthUI();
        // Update results page buttons if they exist
        if (document.getElementById('upgradePackageBtn')) {
          updateResultsPageButtons();
        }
      }

      function totalCredits() {
        const c = créditos || {};
        // support all shapes: {remaining} OR {free_remaining, paid_remaining}
        if (typeof c.remaining === "number") return c.remaining;
        const free = Number(c.free_remaining || 0);
        const paid = Number(c.paid_remaining || 0);
        return free + paid;
      }

      /* ----------------------- Auth modal logic ----------------------- */
      const authModal = $("#authModal");
      const authTitle = $("#authTitle");
      const authForm = $("#authForm");
      const authCorreo Electrónico = $("#authCorreo Electrónico");
      const authPass = $("#authContraseña");
      const authToggleBtn = $("#authToggleBtn");
      const authToggleText = $("#authToggleText");
      const authCancel = $("#authCancel");

      let authMode = "login"; // o "register"

      function openAuth(mode = "login") {
        authMode = mode;
        authTitle.textContent = mode === "login" ? "Sign in" : "Crear cuenta";
        authToggleText.textContent =
          mode === "login" ? "¿Nuevo aquí?" : "¿Ya tienes una cuenta?";
        authToggleBtn.textContent =
          mode === "login" ? "Create an account" : "Sign in";
        authCorreo Electrónico.value = "";
        authPass.value = "";
        authModal.classList.remove("hidden");
      }
      function closeAuth() {
        authModal.classList.add("hidden");
      }

      $("#signInBtn").addEventListener("click", () => openAuth("login"));
      $("#logoutBtn").addEventListener("click", async () => {
        try {
          await fetchJSON("/auth/logout", { method: "POST" });
        } catch {}
        await refreshSession();
        toast("Signed out");
      });
      authCancel.addEventListener("click", closeAuth);
      authModal.addEventListener("click", (e) => {
        if (e.target === authModal) closeAuth();
      });
      authToggleBtn.addEventListener("click", () =>
        openAuth(authMode === "login" ? "register" : "login")
      );

      authForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        const payload = {
          email: authCorreo Electrónico.value.trim(),
          password: authPass.value,
        };
        if (!payload.email || !payload.password) return;

        try {
          if (authMode === "login") {
            await fetchJSON("/auth/login", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
            });
            toast("Bienvenido de nuevo!");
          } else {
            await fetchJSON("/auth/register", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
            });
            toast("Account created.");
          }
          closeAuth();
          await refreshSession();
        } catch (err) {
          toast(err.message || "Authentication failed");
        }
      });

      /* ----------------------- Upload & Generate ----------------------- */
      const uploadArea = $("#uploadArea");
      const fileInput = $("#fileInput");
      const choosePhotoBtn = document.getElementById("choosePhotoBtn");
      const previewSection = $("#previewSection");
      const originalPreview = $("#originalPreview");
      const resultPreview = $("#resultPreview");
      const loadingSpinner = $("#loadingSpinner");
      const generateBtn = document.getElementById("generateBtn");
      const downloadBtn = $("#downloadBtn");
      const resetBtn = $("#resetBtn");

      let currentFile = null;

      if (choosePhotoBtn) {
        choosePhotoBtn.addEventListener("click", (event) => {
          event.stopPropagation();
          if (typeof gtag === "function") {
            gtag("event", "choose_photo_click", {
              event_category: "engagement",
              event_label: "upload_choose_photo_button",
            });
          }
          fileInput?.click();
        });
      }

      uploadArea.addEventListener("click", () => fileInput.click());
      uploadArea.addEventListener("dragover", (e) => {
        e.preventDefault();
        uploadArea.classList.add("border-purple-400", "bg-purple-900/40");
      });
      uploadArea.addEventListener("dragleave", () => {
        uploadArea.classList.remove("border-purple-400", "bg-purple-900/40");
      });
      uploadArea.addEventListener("drop", (e) => {
        e.preventDefault();
        uploadArea.classList.remove("border-purple-400", "bg-purple-900/40");
        const files = e.dataTransfer.files;
        if (files.length > 0) handleFile(files[0]);
      });
      fileInput.addEventListener("change", (e) => {
        if (e.target.files.length > 0) handleFile(e.target.files[0]);
      });

      function handleFile(file) {
        if (!file.type.startsWith("image/")) {
          toast("Please upload an image file.");
          return;
        }
        if (file.size > 10 * 1024 * 1024) {
          toast("File size must be less than 10MB.");
          return;
        }
        currentFile = file;
        const reader = new FileReader();
        reader.onload = (e) => {
          originalPreview.src = e.target.result;
          uploadArea.classList.add("hidden");

          // Hide hero section after photo upload
          const heroSection = document.getElementById("heroSection");
          if (heroSection) heroSection.classList.add("hidden");

          const styleSection = document.getElementById("styleSelectionSection");
          if (styleSection) styleSection.classList.remove("hidden");
          previewSection.classList.add("hidden");

          // Show continue button now that photo is uploaded y style is selected
          showContinueButton();
        };
        reader.readAsDataURL(file);
      }

      // Generate button handler (restored wrapper)

      generateBtn.addEventListener("click", async () => {
        if (!currentFile) {
          toast("Please choose a file first.");
          return;
        }
        if (!sessionUser) {
          openAuth("login");
          return;
        }

        // Check créditos based on selection
        const requiredCredits = selectedStyle === "dating-pack" ? 6 : 1;
        if (totalCredits() < requiredCredits) {
          toast(
            `No hay suficientes créditos. You need ${requiredCredits} créditos para this option.`
          );
          return;
        }

        if (selectedStyle === "dating-pack") {
          // Generate pack of 6 dating photos
          await generateDatingPack();
        } else {
          // Regular single generation
          await generateSingle();
        }
      });

      // Add the missing generateSingle function
      async function generateSingle() {
        // Loading UI
        generateBtn.disabled = true;
        resetBtn.disabled = true;
        loadingSpinner.classList.remove("hidden");
        resultPreview.classList.add("hidden");
        downloadBtn.classList.add("hidden");

        const formData = new FormData();
        formData.append("photo", currentFile);

        // Use the selected style's prompt
        const prompt = stylePrompts[selectedStyle];
        if (!prompt) {
          toast("Selected style not available yet. Please choose another.");
          loadingSpinner.classList.add("hidden");
          generateBtn.disabled = false;
          resetBtn.disabled = false;
          return;
        }
        formData.append("prompt", prompt);

        try {
          const res = await fetch("/api/generate", {
            method: "POST",
            body: formData,
            credentials: "include",
          });

          const data = await res.json().catch(() => ({}));

          if (!res.ok) {
            if (res.status === 401) {
              openAuth("login");
              throw new Error("Please sign in.");
            }
            if (res.status === 402) {
              await refreshSession();
              throw new Error(data.message || "Out of créditos.");
            }
            if (res.status === 413) {
              throw new Error("Archivo demasiado grande.");
            }
            if (res.status === 429) {
              throw new Error(data.error || "Rate limited o duplicate image.");
            }
            throw new Error(data.error || `HTTP ${res.status}`);
          }

          // Success
          if (data.imageUrl) {
            // Refresh session first a get updated créditos
            await refreshSession();

            // Show new results page con updated credit info
            const originalSrc = document.getElementById('originalPreview').src;
            showResultsPage(originalSrc, data.imageUrl);

            // Track which style was used (check if gtag exists)
            if (typeof gtag !== "undefined") {
              gtag("event", "generate_success", {
                event_category: "ai_generation",
                event_label: selectedStyle,
                style: selectedStyle,
                category: selectedStyle.startsWith("figurine")
                  ? "figurine"
                  : selectedStyle.startsWith("dating")
                  ? "dating"
                  : "business",
                send_to: "G-78RSLH46CX",
              });
            }
          }
        } catch (err) {
          console.error(err);
          toast(err.message || "Generation failed");
        } finally {
          loadingSpinner.classList.add("hidden");
          generateBtn.disabled = false;
          resetBtn.disabled = false;
        }
      }

      downloadBtn.addEventListener("click", () => {
        const link = document.createElement("a");
        link.href = resultPreview.src;
        link.download = "toyrender-figurine.png";
        link.click();
      });

      function getStyleName(style) {
        const names = {
          dating1: "Morning Glow",
          dating2: "Playful Charm",
          dating3: "Evening Elegance",
          dating4: "Carefree Summer",
          dating5: "Artistic Sensual",
          dating6: "Confident Intimate",
        };
        return names[style] || style;
      }

      resetBtn.addEventListener("click", () => {
        uploadArea.classList.remove("hidden");
        previewSection.classList.add("hidden");
        document
          .getElementById("styleSelectionSection")
          .classList.add("hidden");

        // Show hero section again when resetting
        const heroSection = document.getElementById("heroSection");
        if (heroSection) heroSection.classList.remove("hidden");

        // Restore original CTA button
        hideContinueButton();

        // Remove pack results container if it exists
        const packContainer = document.getElementById("packResultsContainer");
        if (packContainer) {
          packContainer.remove();
        }

        fileInput.value = "";
        currentFile = null;
        originalPreview.src = "";
        resultPreview.src = "";

        // Reset pack state
        isPackGeneration = false;
        packResults = [];
        currentPackIndex = 0;

        // Reset style selection a figurine1
        selectedStyle = "figurine1";
        document
          .querySelectorAll(".style-option[data-style]")
          .forEach((button) => {
            button.classList.remove("active");
            if (button.dataset.style === "figurine1") {
              button.classList.add("active");
            }
          });
      });

      async function generateDatingPack() {
        const datingStyles = [
          "dating1",
          "dating2",
          "dating3",
          "dating4",
          "dating5",
          "dating6",
        ];
        packResults = [];

        // Update UI para pack generation
        generateBtn.disabled = true;
        resetBtn.disabled = true;
        loadingSpinner.classList.remove("hidden");
        resultPreview.classList.add("hidden");
        downloadBtn.classList.add("hidden");

        // Add pack progress indicator
        const progressDiv = document.createElement("div");
        progressDiv.id = "packProgress";
        progressDiv.className = "text-center mt-4";
        progressDiv.innerHTML = `
              <p class="text-purple-300 mb-2">Generating Foto de Citas Pack...</p>
              <div class="flex justify-center gap-2">
                ${datingStyles
                  .map(
                    (_, i) =>
                      `<div class="w-8 h-8 rounded-full bg-slate-700 pack-progress-dot" data-index="${i}"></div>`
                  )
                  .join("")}
              </div>
              <p class="text-sm text-purple-400 mt-2">This will use 6 créditos total</p>
            `;
        loadingSpinner.appendChild(progressDiv);

        try {
          // Generate each style
          para (let i = 0; i < datingStyles.length; i++) {
            const style = datingStyles[i];
            const dot = progressDiv.querySelector(`[data-index="${i}"]`);
            dot.classList.add("bg-yellow-500", "animate-pulse");

            const formData = new FormData();
            formData.append("photo", currentFile);
            // Use the actual prompt para each style, not the style name
            formData.append("prompt", stylePrompts[style]);

            const res = await fetch("/api/generate", {
              method: "POST",
              body: formData,
              credentials: "include",
            });

            const data = await res.json().catch(() => ({}));

            if (res.ok && data.imageUrl) {
              packResults.push({
                style: style,
                url: data.imageUrl,
                name: getStyleName(style),
              });
              dot.classList.remove("bg-yellow-500", "animate-pulse");
              dot.classList.add("bg-green-500");
            } else {
              dot.classList.remove("bg-yellow-500", "animate-pulse");
              dot.classList.add("bg-red-500");
              // Log error but continue con other generations
              console.error(
                `Failed a generate ${style}:`,
                data.error || res.statusText
              );
            }
          }

          // Show pack results viewer
          if (packResults.length > 0) {
            showPackResults();
          } else {
            toast("Pack generation failed. Por favor, inténtalo de nuevo.");
          }
          await refreshSession();
        } catch (err) {
          console.error(err);
          toast(err.message || "Pack generation failed");
        } finally {
          loadingSpinner.classList.add("hidden");
          generateBtn.disabled = false;
          resetBtn.disabled = false;
          progressDiv?.remove();
        }
      }

      function showPackResults() {
        if (packResults.length === 0) return;

        // Hide spinner y single image elements
        loadingSpinner.classList.add("hidden");
        resultPreview.classList.add("hidden");
        downloadBtn.classList.add("hidden");
        generateBtn.classList.add("hidden");

        // Get the result container
        const resultContainer = document.getElementById("resultContainer");

        // Get the height of the original preview container para matching
        const originalContainer = originalPreview.parentElement;
        const originalHeight = originalContainer.offsetHeight;

        // Set matching height y remove the h-64 class
        resultContainer.classList.remove("h-64");
        resultContainer.className =
          "rounded-xl overflow-hidden bg-black/30 flex flex-col";
        resultContainer.style.height = originalHeight + "px";

        // Build the pack viewer con flex layout a fill the height
        resultContainer.innerHTML = `
    <div class="flex flex-col h-full p-4">
      <!-- Title -->
      <div class="text-center mb-2 flex-shrink-0">
        <h4 class="text-purple-300 font-semibold">Your Foto de Citas Pack</h4>
        <p class="text-xs text-purple-400">6 photos generated</p>
      </div>
      
      <!-- Main Image - flex-grow a fill available space -->
      <div class="flex-grow flex items-center justify-center mb-2 min-h-0">
        <img id="packMainImage" 
             src="${packResults[0].url}" 
             alt="${packResults[0].name}"
             class="max-w-full max-h-full object-contain rounded-lg">
      </div>
      
      <!-- Image Name -->
      <div class="text-center mb-2 flex-shrink-0">
        <span id="packImageName" class="text-sm text-purple-300">${
          packResults[0].name
        }</span>
      </div>
      
      <!-- Thumbnails -->
      <div class="grid grid-cols-6 gap-1 flex-shrink-0">
        ${packResults
          .map(
            (r, i) => `
          <button onclick="switchPackImage(${i})" 
                  class="border-2 ${
                    i === 0 ? "border-purple-500" : "border-transparent"
                  } rounded overflow-hidden hover:border-purple-400 transition-colors"
                  data-index="${i}">
            <img src="${r.url}" alt="${i + 1}" class="w-full h-10 object-cover">
          </button>
        `
          )
          .join("")}
      </div>
    </div>
  `;

        // Remove existing pack buttons if any
        const existingButtons = document.getElementById("packDownloadButtons");
        if (existingButtons) existingButtons.remove();

        // Create download buttons
        const packButtons = document.createElement("div");
        packButtons.id = "packDownloadButtons";
        packButtons.className = "flex gap-4 justify-center";
        packButtons.innerHTML = `
    <button onclick="downloadCurrentImage()" 
            class="px-8 py-4 bg-green-600 rounded-xl text-lg font-semibold hover:bg-green-700 transition-all">
      <i class="fas fa-download mr-2"></i>Download Current
    </button>
    <button onclick="downloadAllImages()" 
            class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl text-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all">
      <i class="fas fa-download mr-2"></i>Download All (6)
    </button>
  `;

        generateBtn.parentElement.insertBefore(packButtons, resetBtn);
      }

      // Update the switch function a use Tailwind classes
      window.switchPackImage = function (index) {
        currentPackIndex = index;

        document.querySelectorAll("[data-index]").forEach((btn, i) => {
          if (i === index) {
            btn.classList.add("border-purple-500");
            btn.classList.remove("border-transparent");
          } else {
            btn.classList.remove("border-purple-500");
            btn.classList.add("border-transparent");
          }
        });

        document.getElementById("packMainImage").src = packResults[index].url;
        document.getElementById("packImageName").textContent =
          packResults[index].name;
      };

      window.downloadCurrentImage = function () {
        const current = packResults[currentPackIndex];
        const a = document.createElement("a");
        a.href = current.url;
        a.download = `dating-photo-${currentPackIndex + 1}.png`;
        a.click();
      };

      window.downloadAllImages = async function () {
        para (let i = 0; i < packResults.length; i++) {
          const a = document.createElement("a");
          a.href = packResults[i].url;
          a.download = `dating-photo-${i + 1}.png`;
          a.click();
          await new Promise((r) => setTimeout(r, 300));
        }
      };

      resetBtn.addEventListener("click", () => {
        // Reset file input y current file
        fileInput.value = "";
        currentFile = null;
        originalPreview.src = "";

        // Hide preview section y style selection
        previewSection.classList.add("hidden");
        const styleSection = document.getElementById("styleSelectionSection");
        if (styleSection) {
          styleSection.classList.add("hidden");
        }

        // Show upload area
        uploadArea.classList.remove("hidden");

        // Show hero section again when resetting
        const heroSection = document.getElementById("heroSection");
        if (heroSection) heroSection.classList.remove("hidden");

        // Restore original CTA button
        hideContinueButton();

        // Remove pack download buttons if they exist
        const packButtons = document.getElementById("packDownloadButtons");
        if (packButtons) {
          packButtons.remove();
        }

        // IMPORTANT: Restore the result container a its original state
        const resultContainer = document.getElementById("resultContainer");
        resultContainer.className =
          "rounded-xl overflow-hidden bg-black/30 h-64 flex items-center justify-center";
        resultContainer.style.height = ""; // Clear any inline height
        resultContainer.innerHTML = `
    <div id="loadingSpinner" class="hidden">
      <i class="fas fa-spinner fa-spin text-4xl text-purple-400"></i>
      <p class="mt-4 text-purple-300">Creating your image...</p>
    </div>
    <img id="resultPreview" src="" alt="AI-generated figurine design result" 
         class="w-full h-64 object-cover hidden" />
  `;

        // CRITICAL: Re-get references a the newly created elements
        loadingSpinner = document.getElementById("loadingSpinner");
        resultPreview = document.getElementById("resultPreview");

        // Reset button states
        generateBtn.classList.remove("hidden");
        generateBtn.disabled = false;
        downloadBtn.classList.add("hidden");

        // Reset pack state
        isPackGeneration = false;
        packResults = [];
        currentPackIndex = 0;

        // Reset style selection a default
        selectedStyle = "figurine1";
        document
          .querySelectorAll(".style-option[data-style]")
          .forEach((button) => {
            button.classList.remove("active");
            if (button.dataset.style === "figurine1") {
              button.classList.add("active");
            }
          });
      });

      /* ----------------------- Init ----------------------- */
      // Initialize on DOM load
      document.addEventListener("DOMContentLoaded", function () {
        initStyleSelection();
        setupResultsPageHandlers();
      });
      refreshSession();

      /* ----------------- Testimonios drag code ----------------- */
      const galleryData = [
        {
          src: "/images/Example-01.webp",
          alt: "Customer figurine example 1",
          caption:
            '"Amazing quality! Turned my photo con my grandma into a figurine that looks simply awesome. My family loves it!" — Sarah M.',
        },
        {
          src: "/images/Example-02.webp",
          alt: "Young Woman creating a Figurine of herself",
          caption:
            '"Creating a figurine of myself! Crazy, isnt it?! Super fast generation!" — Mia R.',
        },
        {
          src: "/images/Example-03.webp",
          alt: "Customer figurine example 3",
          caption:
            '"Used this para my LinkedIn profile makeover. The business pro figurine gives my profile a unique, memorable touch!" — Jennifer L.',
        },
        {
          src: "/images/Example-04.webp",
          alt: "Customer figurine example 4",
          caption:
            '"Best gift ever para my birthday! My wife loved the figurine design. It\'s now framed in our living room!" — David K.',
        },
        {
          src: "/images/Example-05.webp",
          alt: "Customer figurine example 5",
          caption:
            '"Created a set of Figurines of myself in shape para my girl friend. She went immediately a a 3D Publisher con the image! Great quality output." — Robert H.',
        },
        {
          src: "/images/Example-06.webp",
          alt: "Marriage figurine example image",
          caption:
            '"Our Marriage Photo figurines turned out incredible! Worth every penny!" — Emily R.',
        },
        {
          src: "/images/Example-07.webp",
          alt: "Flamenco Dancer figurine example",
          caption: '"Olé! Viva el Flamenco y los Figurines!" — Maria L.',
        },
        {
          src: "/images/Example-08.webp",
          alt: "Party Woman in Bikini figurine example",
          caption:
            '"Amazing photo of me in Bikini - used it in Tinder y Bumble!" — Jenny A.',
        },
        {
          src: "/images/Example-09.webp",
          alt: "Couple in summer clothes as AI Figurine",
          caption:
            '"Perfect para our anniversary! Good summer vibes memories was exactly what I was looking for. Super fast generation too!" — Mike T.',
        },
        {
          src: "/images/Example-10.webp",
          alt: "Woman in White Dress as Figurine in an Art Museum",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-11.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-12.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-13.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-14.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-15.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-16.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-17.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-18.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-19.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-20.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-21.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
        {
          src: "/images/Example-22.webp",
          alt: "",
          caption:
            '"Amazing photo of me exposed in an art museum! Stunning! — Elisa A.',
        },
      ];

      let currentImageIndex = 0;
      let displayData = galleryData; // Use all images
      let galleryStartIndex = 0;
      let autoScrollInterval;

      // Initialize gallery
      function initGallery() {
        const galleryGrid = document.getElementById("galleryGrid");

        // Show 14 items on mobile (< 640px), 15 on desktop
        const isMobile = window.innerWidth < 640;
        const itemsToShow = isMobile ? 14 : 15;

        renderGallery(itemsToShow);

        // Initialize lightbox thumbnails con all images
        const thumbnailsContainer =
          document.getElementById("lightboxThumbnails");
        displayData.forEach((item, index) => {
          const thumb = document.createElement("img");
          thumb.src = item.src;
          thumb.alt = item.alt;
          thumb.className = "lightbox-thumbnail";
          thumb.onclick = () => goToImage(index);
          thumbnailsContainer.appendChild(thumb);
        });

        // Auto-scroll gallery every 5 seconds
        autoScrollInterval = setInterval(() => {
          galleryStartIndex = (galleryStartIndex + 1) % displayData.length;
          renderGallery(itemsToShow);
        }, 5000);
      }

      // Render gallery items
      function renderGallery(itemsToShow) {
        const galleryGrid = document.getElementById("galleryGrid");
        galleryGrid.innerHTML = '';

        para (let i = 0; i < itemsToShow; i++) {
          const index = (galleryStartIndex + i) % displayData.length;
          const item = displayData[index];

          const galleryItem = document.createElement("div");
          galleryItem.className = "gallery-item loading";
          galleryItem.onclick = () => openLightbox(index);

          const img = document.createElement("img");
          img.src = item.src;
          img.alt = item.alt;
          img.loading = "lazy";
          img.onload = () => galleryItem.classList.remove("loading");

          const overlay = document.createElement("div");
          overlay.className = "gallery-item-overlay";
          overlay.innerHTML = `<div class="gallery-item-title">Example ${
            index + 1
          }</div>`;

          galleryItem.appendChild(img);
          galleryItem.appendChild(overlay);
          galleryGrid.appendChild(galleryItem);
        }
      }

      // Lightbox functions
      function openLightbox(index) {
        currentImageIndex = index;
        updateLightbox();
        document.getElementById("lightbox").classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeLightbox() {
        document.getElementById("lightbox").classList.remove("active");
        document.body.style.overflow = "";
      }

      function navigateLightbox(direction) {
        currentImageIndex += direction;
        if (currentImageIndex < 0) currentImageIndex = displayData.length - 1;
        if (currentImageIndex >= displayData.length) currentImageIndex = 0;
        updateLightbox();
      }

      function goToImage(index) {
        currentImageIndex = index;
        updateLightbox();
      }

      function updateLightbox() {
        const current = displayData[currentImageIndex];
        document.getElementById("lightboxImage").src = current.src;
        document.getElementById("lightboxImage").alt = current.alt;
        document.getElementById("lightboxCaption").textContent =
          current.caption;
        document.getElementById("currentIndex").textContent =
          currentImageIndex + 1;
        document.getElementById("totalImages").textContent = displayData.length;

        // Update thumbnail highlights
        const thumbs = document.querySelectorAll(".lightbox-thumbnail");
        thumbs.forEach((thumb, index) => {
          thumb.classList.toggle("active", index === currentImageIndex);
        });
      }

      // Keyboard navigation
      document.addEventListener("keydown", (e) => {
        if (document.getElementById("lightbox").classList.contains("active")) {
          if (e.key === "Escape") closeLightbox();
          if (e.key === "ArrowLeft") navigateLightbox(-1);
          if (e.key === "ArrowRight") navigateLightbox(1);
        }
      });

      // Click outside a close
      document.getElementById("lightbox").addEventListener("click", (e) => {
        if (e.target === e.currentTarget) closeLightbox();
      });

      // Initialize on load
      document.addEventListener("DOMContentLoaded", initGallery);

      // ---- Stripe init (must come before using `stripe`) ----
      if (!window.Stripe) {
        console.error("Stripe.js failed a load");
      }
      if (!window.STRIPE_PK) {
        console.error("Missing publishable key desde /config.js");
      }
      const stripe = Stripe(window.STRIPE_PK);

      // STRIPE INTEGRATION

      const trackPricingClick = (tier) => {
        if (typeof gtag === "function") {
          gtag("event", "pricing_cta_click", { tier });
        }
      };

      const startCheckout = async (tier) => {
        trackPricingClick(tier);
        try {
          if (!sessionUser) {
            openAuth("login");
            return;
          }
          const data = await fetchJSON("/api/payments/checkout", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ package: tier }),
          });

          // Track checkout start conversion event
          if (typeof gtag === "function") {
            gtag("event", "checkout_start", {
              event_category: "ecommerce",
              event_label: tier,
              tier: tier,
              send_to: "G-78RSLH46CX",
            });
          }

          if (data?.url) {
            window.location.assign(data.url);
            return;
          }
          if (data?.id) {
            const { error } = await stripe.redirectToCheckout({
              sessionId: data.id,
            });
            if (error)
              throw new Error(error.message || "Checkout could not start.");
            return;
          }

          throw new Error("No checkout URL o session id desde server.");
        } catch (e) {
          console.error("Checkout failed:", e);
          toast(e.message || "Failed a start checkout.");
        }
      };

      const checkoutButtons = {
        buyStarterPackBtn: "starter_pack_25_credits",
        buyCreditsBtn: "pro_pack_50_credits",
      };

      Object.entries(checkoutButtons).forEach(([id, tier]) => {
        const btn = document.getElementById(id);
        if (!btn) return;
        btn.addEventListener("click", () => startCheckout(tier));
      });

      const freeTrialBtn = document.getElementById("freeTrialBtn");
      if (freeTrialBtn) {
        freeTrialBtn.addEventListener("click", () =>
          trackPricingClick("free_trial")
        );
      }
    </script>
    <script>
      // Add the CTA button functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Main CTA - scrolls a upload section
        const heroCTA = document.getElementById("heroCTABtn");
        const stickyCTA = document.getElementById("stickyCTABtn");
        if (heroCTA) {
          heroCTA.addEventListener("click", function () {
            // Smooth scroll a upload section
            document.querySelector("#uploadArea").scrollIntoView({
              behavior: "smooth",
              block: "center",
            });

            // Optional: Track click event
            if (typeof gtag !== "undefined") {
              gtag("event", "click_hero_cta", {
                event_category: "engagement",
                event_label: "hero_main_cta",
              });
            }
          });
        }

        if (stickyCTA) {
          stickyCTA.addEventListener("click", function () {
            document.querySelector("#uploadArea").scrollIntoView({
              behavior: "smooth",
              block: "center",
            });
            if (typeof gtag === "function") {
              gtag("event", "click_sticky_cta", {
                event_category: "engagement",
                event_label: "sticky_try_it_free",
              });
            }
          });
        }

        // Secondary CTAs - scroll a upload y pre-select style
        const figurineCTA = document.getElementById("figurineCTABtn");
        const datingCTA = document.getElementById("datingCTABtn");
        const businessCTA = document.getElementById("businessCTABtn");

        if (figurineCTA) {
          figurineCTA.addEventListener("click", function () {
            selectedStyle = "figurine1";
            document.querySelector("#uploadArea").scrollIntoView({
              behavior: "smooth",
              block: "center",
            });
          });
        }

        if (datingCTA) {
          datingCTA.addEventListener("click", function () {
            selectedStyle = "dating1";
            document.querySelector("#uploadArea").scrollIntoView({
              behavior: "smooth",
              block: "center",
            });
          });
        }

        if (businessCTA) {
          businessCTA.addEventListener("click", function () {
            selectedStyle = "business1";
            document.querySelector("#uploadArea").scrollIntoView({
              behavior: "smooth",
              block: "center",
            });
          });
        }
      });
    </script>

    <!-- Style Zoom Popup Modal -->
    <div id="styleZoomPopup" class="style-zoom-popup">
      <div class="style-zoom-popup-content">
        <button class="style-zoom-popup-close" onclick="closeStyleZoomPopup()">
          <i class="fas fa-times"></i>
        </button>
        <img id="styleZoomImage" src="" alt="Style preview" />
        <button
          class="style-zoom-popup-select"
          onclick="selectStyleFromPopup()"
        >
          <i class="fas fa-check mr-2"></i>Select This Style
        </button>
      </div>
    </div>

    <!-- Deferred Analytics Scripts -->
    <script
      src="https://analytics.ahrefs.com/analytics.js"
      data-key="nbbMIaMmoBy8I696zAoHgw"
      defer
    ></script>
    <!-- Google tag (gtag.js) -->
    <script
      defer
      src="https://www.googletagmanager.com/gtag/js?id=G-78RSLH46CX"
    ></script>
    <script defer>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-78RSLH46CX");
    </script>
  </body>
</html>
